[TOC]

### 背景介绍

在Java内存管理机制中**内存抖动**会引起频繁的GC，从而使UI线程被频繁阻塞，导致画面卡顿。



### 需要避免内存抖动

**内存抖动**是由于短时间内有大量对象进出*Young Generiation*区导致的，它伴随着频繁的GC。通常存在内存抖动时，我们可以在*Android Studio*的*Monitors*中看到如下场景：



### 下面是避免发生内存抖动的几点建议：

- 尽量避免在**循环体**内创建对象，应该把对象创建移到**循环体**外。
- 注意自定义View的`onDraw()`方法会被频繁调用，所以在这里面不应该频繁的创建对象。
- 当需要大量使用Bitmap的时候，试着把它们缓存在数组中实现复用。
- 对于能够复用的对象，同理可以使用**对象池**将它们缓存起来。



### 总结

总之，因为**内存抖动**是由于大量对象在短时间内被配置而引起的，所以我们要做的就是谨慎对待那些可能会大量创建对象的情况。
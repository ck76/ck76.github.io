[TOC]

- https://leetcode.cn/problems/merge-two-sorted-lists/solution/by-lfool-41yw/

# [å¦‚æœæƒ³è¦æŸ¥çœ‹ä½œè€…æ›´å¤šæ–‡ç« ï¼Œå¯ä»¥ç‚¹å‡»æ­¤å¤„ï¼ï¼ï¼ğŸ”¥ğŸ”¥ğŸ”¥](https://leetcode.cn/link/?target=https%3A%2F%2Flfool.github.io%2FLFool-Notes%2F)

[21.åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨](https://leetcode-cn.com/problems/merge-two-sorted-lists/)

[23.åˆå¹¶Kä¸ªå‡åºé“¾è¡¨](https://leetcode-cn.com/problems/merge-k-sorted-lists/)

[141.ç¯å½¢é“¾è¡¨](https://leetcode-cn.com/problems/linked-list-cycle/)

[142.ç¯å½¢é“¾è¡¨ II](https://leetcode-cn.com/problems/linked-list-cycle-ii/)

[876.é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹](https://leetcode-cn.com/problems/middle-of-the-linked-list/)

[160.ç›¸äº¤é“¾è¡¨](https://leetcode-cn.com/problems/intersection-of-two-linked-lists/)

[19.åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªç»“ç‚¹](https://leetcode-cn.com/problems/remove-nth-node-from-end-of-list/)

## åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨

**é¢˜ç›®è¯¦æƒ…å¯è§ [åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨](https://leetcode-cn.com/problems/merge-two-sorted-lists/)**

![1.jpeg](https://tva1.sinaimg.cn/large/e6c9d24egy1h670ptyieoj20ie08eq38.jpg)

```java
// é€’å½’ï¼šæ˜ç¡® ã€Œå½“å‰èŠ‚ç‚¹ã€ã€Œè¯¥åšä»€ä¹ˆã€ã€Œä»€ä¹ˆæ—¶å€™åšã€ã€Œæ³¨æ„è¿”å›å€¼ã€
//  - å½“å‰èŠ‚ç‚¹ï¼šä¸¤ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹
//  - è¯¥åšä»€ä¹ˆï¼šé€‰æ‹©å€¼å°çš„èŠ‚ç‚¹ï¼Œé€’å½’ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
//  - ä»€ä¹ˆæ—¶å€™åšï¼šå…ˆåº || ååº éƒ½ ğŸ‰‘ï¸
//  - è¿”å›å€¼ï¼šå­é—®é¢˜çš„å¤´èŠ‚ç‚¹ï¼Œæ¥åœ¨ä¸€èµ·å³å¯ ã€Œå½“å‰èŠ‚ç‚¹.next = å­é—®é¢˜è¿”å›å€¼ã€
public ListNode mergeTwoLists(ListNode list1, ListNode list2) {

    // å¤„ç†å½“å‰èŠ‚ç‚¹
    // å¦‚æœä¸¤ä¸ªèŠ‚ç‚¹éƒ½ä¸º nullï¼Œè¯´æ˜å·²ç»éå†å®Œäº†ä¸¤ä¸ªä¸¤è¾¹ï¼Œè¿”å› null
    if (list1 == null && list2 == null) return null;
    // å¦‚æœ list1 ä¸º nullï¼Œè¯´æ˜ list2 æ²¡æœ‰å¤„ç†å®Œï¼Œç›´æ¥è¿”å› list2
    if (list1 == null) return list2;
    // å¦‚æœ list2 ä¸º nullï¼Œè¯´æ˜ list1 æ²¡æœ‰å¤„ç†å®Œï¼Œç›´æ¥è¿”å› list1
    if (list2 == null) return list1;
    
    // ä¸¤ä¸ª list éƒ½ä¸ä¸ºç©ºï¼Œé€‰æ‹©å€¼å°çš„ï¼Œé€’å½’ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
    if (list1.val < list2.val) {
        // å½“å‰èŠ‚ç‚¹.next = å­é—®é¢˜è¿”å›å€¼
        list1.next = mergeTwoLists(list1.next, list2);
        return list1;
    } else {
        list2.next = mergeTwoLists(list1, list2.next);
        return list2;
    }
}

// éé€’å½’
public ListNode mergeTwoLists(ListNode list1, ListNode list2) {
    // è™šæ‹Ÿä¸€ä¸ªå‡å¤´èŠ‚ç‚¹ï¼Œæ–¹ä¾¿åç»­å¤„ç†
    ListNode dummy = new ListNode(-1);
    ListNode p = dummy;

    ListNode p1 = list1; // list1 çš„æŒ‡é’ˆèŠ‚ç‚¹
    ListNode p2 = list2; // list2 çš„æŒ‡é’ˆèŠ‚ç‚¹

    // å½“ p1 å’Œ p2 å‡éç©ºæ—¶
    while (p1 != null && p2 != null) {
        if (p1.val <= p2.val) {
            p.next = p1;
            p1 = p1.next;
        } else {
            p.next = p2;
            p2 = p2.next;
        }
        p = head.next;
    }
    // å½“ p1 æˆ– p2 ä¸ºç©ºæ—¶
    p.next = p1 == null ? p2 : p1;

    return dummy.next;
}
```

## åˆå¹¶ K ä¸ªå‡åºé“¾è¡¨

**é¢˜ç›®è¯¦æƒ…å¯è§ [åˆå¹¶Kä¸ªå‡åºé“¾è¡¨](https://leetcode-cn.com/problems/merge-k-sorted-lists/)**

> åˆ©ç”¨ **ä¼˜å…ˆé˜Ÿåˆ—** æ¥å¤„ç†ï¼Œå³ **æœ€å°å †**
>
> æ¯æ¬¡é€‰æ‹©å †é¡¶å…ƒç´ ï¼ˆæœ€å°å€¼ï¼‰ï¼Œå¹¶åŠ å…¥ ã€Œå †é¡¶å…ƒç´ .nextã€
>
> å…¶å®ä¸åˆå¹¶ä¸¤ä¸ªé“¾è¡¨æ€è·¯ä¸€è‡´ï¼Œåªä¸è¿‡åˆå¹¶ä¸¤ä¸ªé“¾è¡¨æ˜¯é€‰æ‹©ä¸¤ä¸ªå…ƒç´ ä¸­çš„æœ€å°å€¼ï¼Œåˆå¹¶Kä¸ªé“¾è¡¨æ˜¯é€‰æ‹©Kä¸ªå…ƒç´ ä¸­çš„æœ€å°å€¼è€Œå·²

```java
// å¦‚æœå¯ä»¥ä¸ç”¨é€’å½’ï¼Œå°±ä¸ç”¨é€’å½’ï¼›éé€’å½’çš„è€—æ—¶æ›´çŸ­
public ListNode mergeKLists(ListNode[] lists) {
    if (lists == null) return null;
    Queue<ListNode> pq = new PriorityQueue<>((o1, o2) -> (o1.val - o2.val));
    for (ListNode list : lists) {
        if (list != null) pq.offer(list);
    }
    return mergeKListsHelper(pq);
}

private ListNode mergeKListsHelper(Queue<ListNode> pq) {
    ListNode dummy = new ListNode(-1);
    ListNode p = dummy;
    while (!pq.isEmpty()) {
        ListNode node = pq.poll();
        if (node.next != null) pq.offer(node.next);
        p.next = node;
        p = p.next;
    }
    return dummy.next;
}
```

## ç¯å½¢é“¾è¡¨

**é¢˜ç›®è¯¦æƒ…å¯è§ [ç¯å½¢é“¾è¡¨](https://leetcode-cn.com/problems/linked-list-cycle/)**

![2.png](https://tva1.sinaimg.cn/large/e6c9d24egy1h670ptg5gsj20er04r3yi.jpg)

![3.svg](https://pic.leetcode-cn.com/1654148106-eCaysR-3.svg)

> é‡‡ç”¨å¿«æ…¢æŒ‡é’ˆçš„æ–¹æ³•
>
> slow æ¯æ¬¡ç§»åŠ¨ä¸€æ­¥ï¼›fast æ¯æ¬¡ç§»åŠ¨ä¸¤æ­¥
>
> å¦‚æœå­˜åœ¨ç¯ï¼Œslow å’Œ fast å¿…ä¼šç›¸é‡

```java
public boolean hasCycle(ListNode head) {
    ListNode slow = head;
    ListNode fast = head;
    // æ­¤å¤„ä¸éœ€è¦åˆ¤æ–­ slowï¼Œå¦‚æœ fast ä¸ä¸º nullï¼Œslow ç»è¿‡çš„è·¯å¾„è‚¯å®šä¸ä¸º null
    while (fast != null && fast.next != null) {
        slow = slow.next;
        fast = fast.next.next;
        if (slow == fast) return true;
    }
    return false;
}
```

## ç¯å½¢é“¾è¡¨ II

**é¢˜ç›®è¯¦æƒ…å¯è§ [ç¯å½¢é“¾è¡¨ II](https://leetcode-cn.com/problems/linked-list-cycle-ii/)**

![4.svg](https://pic.leetcode-cn.com/1654148117-soPIpw-4.svg)

> å’Œä¸Šé¢é¢˜ç›®çš„åŒºåˆ«ï¼šéœ€è¦è¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹
>
> k = x + y
>
> 2k = x + y + z + y
>
> æ‰€ä»¥æœ‰ï¼šx = z
>
> ç›¸é‡åï¼Œä»¤å…¶ä¸­ä¸€ä¸ªå›åˆ°èµ·ç‚¹ï¼Œç„¶åä»¥ç›¸åŒçš„é€Ÿåº¦ç§»åŠ¨ï¼Œå†æ¬¡ç›¸é‡æ—¶å³æ˜¯ç¯èµ·ç‚¹

```java
public ListNode detectCycle(ListNode head) {
    ListNode slow = head;
    ListNode fast = head;
    while (fast != null && fast.next != null) {
        slow = slow.next;
        fast = fast.next.next;
        // æ ¸å¿ƒä»£ç 
        if (slow == fast) {
            slow = head;
            while (slow != fast) {
                slow = slow.next;
                fast = fast.next;
            }
            return slow;
        }
    }
    return null;
}
```

## é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹

**é¢˜ç›®è¯¦æƒ…å¯è§ [é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹](https://leetcode-cn.com/problems/middle-of-the-linked-list/)**

> åˆ©ç”¨å¿«æ…¢æŒ‡é’ˆï¼Œå½“ fast åˆ°è¾¾ç»ˆç‚¹æ—¶ï¼Œslow åˆšå¥½åˆ°è¾¾ä¸­ç‚¹
>
> å½“èŠ‚ç‚¹æ•°é‡ä¸ºå¥‡æ•°æ—¶ï¼Œä¸­é—´èŠ‚ç‚¹æ­£å¥½ä¸º 1 ä¸ª
>
> å½“èŠ‚ç‚¹æ•°é‡ä¸ºå¶æ•°æ—¶ï¼Œä¸­é—´èŠ‚ç‚¹æœ‰ 2 ä¸ªï¼Œæ­£å¥½è¿”å›ç¬¬ 2 ä¸ªä¸­é—´èŠ‚ç‚¹

```java
public ListNode middleNode(ListNode head) {
    ListNode slow = head;
    ListNode fast = head;
    while (fast != null && fast.next != null) {
        slow = slow.next;
        fast = fast.next.next;
    }
    return slow;
}
```

## ç›¸äº¤é“¾è¡¨

**é¢˜ç›®è¯¦æƒ…å¯è§ [ç›¸äº¤é“¾è¡¨](https://leetcode-cn.com/problems/intersection-of-two-linked-lists/)**

![5.png](https://tva1.sinaimg.cn/large/e6c9d24egy1h670pugo6pj20km06pglu.jpg)

> æ€è·¯ï¼šå½“ A ç§»åŠ¨å®Œåï¼Œæ¥ç€ä» B å¼€å§‹ç§»åŠ¨ï¼›åŒç†ï¼Œå½“ B ç§»åŠ¨å®Œåï¼Œæ¥ç€ä» A å¼€å§‹ç§»åŠ¨
>
> - å¦‚æœæœ‰äº¤ç‚¹ï¼Œåˆ™ä¼šåœ¨äº¤ç‚¹å¤„ç›¸é‡
> - å¦‚æœæ²¡æœ‰äº¤ç‚¹ï¼Œåˆ™ä¼šç§»åŠ¨åˆ° null å¤„åœæ­¢ (**è¿™ä¸ªå¤„ç†å¤ªå¦™äº†**)

```java
public ListNode getIntersectionNode(ListNode headA, ListNode headB) {
    ListNode pA = headA;
    ListNode pB = headB;
    while (pA != pB) {
        if (pA == null) pA = headB;
        else pA = pA.next;
        if (pB == null) pB = headA;
        else pB = pB.next;
    }
    return pA;   
}
```

## åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹

**é¢˜ç›®è¯¦æƒ…å¯è§ [åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªç»“ç‚¹](https://leetcode-cn.com/problems/remove-nth-node-from-end-of-list/)**

![6.jpeg](https://tva1.sinaimg.cn/large/e6c9d24egy1h670psthgpj20f2066t8u.jpg)

> å…ˆè¡ŒèŠ‚ç‚¹ï¼šæå‰ç§»åŠ¨Næ­¥
>
> åè¡ŒèŠ‚ç‚¹ï¼šåœ¨å…ˆè¡ŒèŠ‚ç‚¹ç§»åŠ¨å®ŒNæ­¥åå†ç§»åŠ¨
>
> å½“å…ˆè¡ŒèŠ‚ç‚¹åˆ°è¾¾è¡¨å°¾æ—¶ï¼Œåè¡ŒèŠ‚ç‚¹çš„ä½ç½®å³ä¸ºå€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹

```java
public ListNode removeNthFromEnd(ListNode head, int n) {
    // è™šæ‹Ÿä¸€ä¸ªå‡å¤´èŠ‚ç‚¹ï¼Œæ–¹ä¾¿åç»­å¤„ç† ã€Œhead = [1], n = 1ã€
    ListNode dummy = new ListNode(-1);
    dummy.next = head;
    // prev ä¸ºäº†åˆ é™¤å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹
    ListNode prev = dummy;
    ListNode slow = head;
    ListNode fast = head;
    for (int i = 0; i < n; i++) fast = fast.next;

    while (fast != null) {
        prev = slow;
        slow = slow.next;
        fast = fast.next;
    }
    prev.next = slow.next;
    return dummy.next;
}
```

## æ€»ç»“

> **æŠ€å·§æ€»ç»“**
>
> 1. è™šæ‹Ÿå¤´èŠ‚ç‚¹ï¼Œæ–¹ä¾¿å¤„ç†ä¸€äº›ç‰¹æ®Š null æŒ‡é’ˆæƒ…å†µ
> 2. å¿«ã€æ…¢æŒ‡é’ˆå¥—è·¯
>    - æ±‚ä¸­é—´èŠ‚ç‚¹ / åˆ¤æ–­ç¯ï¼ˆä¸¤å€é€Ÿåº¦ï¼‰
>    - å€’æ•°ç¬¬ N ä¸ªèŠ‚ç‚¹ï¼ˆfast å…ˆç§»åŠ¨ N æ­¥ï¼‰
>    - ç¡®å®šå…¥ç¯èŠ‚ç‚¹ï¼ˆå…ˆä¸¤å€é€Ÿåº¦ï¼Œåä¸€å€é€Ÿåº¦ï¼‰
> 3. åˆå¹¶é“¾è¡¨
>    - ä¸¤ä¸ªé“¾è¡¨åˆå¹¶ï¼ˆä¾æ¬¡æ¯”è¾ƒå¤´èŠ‚ç‚¹ï¼‰
>    - K ä¸ªé“¾è¡¨åˆå¹¶ï¼ˆåˆ©ç”¨ä¼˜å…ˆé˜Ÿåˆ—ï¼Œå¿«é€Ÿå¾—åˆ°æœ€å°å€¼å…ƒç´ ï¼‰
> 4. é“¾è¡¨ç›¸äº¤
>    - å…ˆèµ°å®Œè‡ªå·±çš„é“¾è¡¨ï¼Œç„¶åè½¬è€Œèµ°å¯¹æ–¹é“¾è¡¨ï¼Œç›¸ç­‰å¤„å³ä¸ºäº¤ç‚¹





---

# labuladong

- https://mp.weixin.qq.com/s/dVqXEMKZ6_tuB7J-leLmtg

1ã€åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨

2ã€åˆå¹¶`k`ä¸ªæœ‰åºé“¾è¡¨

3ã€å¯»æ‰¾å•é“¾è¡¨çš„å€’æ•°ç¬¬`k`ä¸ªèŠ‚ç‚¹

4ã€å¯»æ‰¾å•é“¾è¡¨çš„ä¸­ç‚¹

5ã€åˆ¤æ–­å•é“¾è¡¨æ˜¯å¦åŒ…å«ç¯å¹¶æ‰¾å‡ºç¯èµ·ç‚¹

6ã€åˆ¤æ–­ä¸¤ä¸ªå•é“¾è¡¨æ˜¯å¦ç›¸äº¤å¹¶æ‰¾å‡ºäº¤ç‚¹

è¿™äº›è§£æ³•éƒ½ç”¨åˆ°äº†åŒæŒ‡é’ˆæŠ€å·§ï¼Œæ‰€ä»¥è¯´å¯¹äºå•é“¾è¡¨ç›¸å…³çš„é¢˜ç›®ï¼ŒåŒæŒ‡é’ˆçš„è¿ç”¨æ˜¯éå¸¸å¹¿æ³›çš„ï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥ä¸€ä¸ªä¸€ä¸ªçœ‹ã€‚

### åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨

è¿™æ˜¯æœ€åŸºæœ¬çš„é“¾è¡¨æŠ€å·§ï¼ŒåŠ›æ‰£ç¬¬ 21 é¢˜ã€Œåˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨ã€å°±æ˜¯è¿™ä¸ªé—®é¢˜ï¼š

![Image](https://tva1.sinaimg.cn/large/e6c9d24egy1h6783pp2uvj20rq0rajsp.jpg)

ç»™ä½ è¾“å…¥ä¸¤ä¸ªæœ‰åºé“¾è¡¨ï¼Œè¯·ä½ æŠŠä»–ä¿©åˆå¹¶æˆä¸€ä¸ªæ–°çš„æœ‰åºé“¾è¡¨ï¼Œå‡½æ•°ç­¾åå¦‚ä¸‹ï¼š

```
ListNode mergeTwoLists(ListNode l1, ListNode l2);
```

è¿™é¢˜æ¯”è¾ƒç®€å•ï¼Œæˆ‘ä»¬ç›´æ¥çœ‹è§£æ³•ï¼š

```
ListNode mergeTwoLists(ListNode l1, ListNode l2) {
    // è™šæ‹Ÿå¤´ç»“ç‚¹
    ListNode dummy = new ListNode(-1), p = dummy;
    ListNode p1 = l1, p2 = l2;

    while (p1 != null && p2 != null) {
        // æ¯”è¾ƒ p1 å’Œ p2 ä¸¤ä¸ªæŒ‡é’ˆ
        // å°†å€¼è¾ƒå°çš„çš„èŠ‚ç‚¹æ¥åˆ° p æŒ‡é’ˆ
        if (p1.val > p2.val) {
            p.next = p2;
            p2 = p2.next;
        } else {
            p.next = p1;
            p1 = p1.next;
        }
        // p æŒ‡é’ˆä¸æ–­å‰è¿›
        p = p.next;
    }

    if (p1 != null) {
        p.next = p1;
    }

    if (p2 != null) {
        p.next = p2;
    }

    return dummy.next;
}
```

æˆ‘ä»¬çš„ while å¾ªç¯æ¯æ¬¡æ¯”è¾ƒ`p1`å’Œ`p2`çš„å¤§å°ï¼ŒæŠŠè¾ƒå°çš„èŠ‚ç‚¹æ¥åˆ°ç»“æœé“¾è¡¨ä¸Šï¼š

![Image](https://tva1.sinaimg.cn/large/e6c9d24egy1h6783ti4zwg20tz0gvn92.gif)

è¿™ä¸ªç®—æ³•çš„é€»è¾‘ç±»ä¼¼äºã€Œæ‹‰æ‹‰é“¾ã€ï¼Œ`l1, l2`ç±»ä¼¼äºæ‹‰é“¾ä¸¤ä¾§çš„é”¯é½¿ï¼ŒæŒ‡é’ˆ`p`å°±å¥½åƒæ‹‰é“¾çš„æ‹‰ç´¢ï¼Œå°†ä¸¤ä¸ªæœ‰åºé“¾è¡¨åˆå¹¶ã€‚

**ä»£ç ä¸­è¿˜ç”¨åˆ°ä¸€ä¸ªé“¾è¡¨çš„ç®—æ³•é¢˜ä¸­æ˜¯å¾ˆå¸¸è§çš„ã€Œè™šæ‹Ÿå¤´èŠ‚ç‚¹ã€æŠ€å·§ï¼Œä¹Ÿå°±æ˜¯`dummy`èŠ‚ç‚¹**ã€‚ä½ å¯ä»¥è¯•è¯•ï¼Œå¦‚æœä¸ä½¿ç”¨`dummy`è™šæ‹ŸèŠ‚ç‚¹ï¼Œä»£ç ä¼šå¤æ‚å¾ˆå¤šï¼Œè€Œæœ‰äº†`dummy`èŠ‚ç‚¹è¿™ä¸ªå ä½ç¬¦ï¼Œå¯ä»¥é¿å…å¤„ç†ç©ºæŒ‡é’ˆçš„æƒ…å†µï¼Œé™ä½ä»£ç çš„å¤æ‚æ€§ã€‚

### åˆå¹¶ k ä¸ªæœ‰åºé“¾è¡¨

çœ‹ä¸‹åŠ›æ‰£ç¬¬ 23 é¢˜ã€Œåˆå¹¶Kä¸ªå‡åºé“¾è¡¨ã€ï¼š

![Image](https://tva1.sinaimg.cn/large/e6c9d24egy1h6783oh6zdj20og0nmwfm.jpg)

å‡½æ•°ç­¾åå¦‚ä¸‹ï¼š

```
ListNode mergeKLists(ListNode[] lists);
```

åˆå¹¶`k`ä¸ªæœ‰åºé“¾è¡¨çš„é€»è¾‘ç±»ä¼¼åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨ï¼Œéš¾ç‚¹åœ¨äºï¼Œå¦‚ä½•å¿«é€Ÿå¾—åˆ°`k`ä¸ªèŠ‚ç‚¹ä¸­çš„æœ€å°èŠ‚ç‚¹ï¼Œæ¥åˆ°ç»“æœé“¾è¡¨ä¸Šï¼Ÿ

è¿™é‡Œæˆ‘ä»¬å°±è¦ç”¨åˆ° [ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼ˆäºŒå‰å †ï¼‰](https://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&mid=2247484495&idx=1&sn=bbfeba9bb5cfd50598e2a4d08c839ee9&scene=21#wechat_redirect) è¿™ç§æ•°æ®ç»“æ„ï¼ŒæŠŠé“¾è¡¨èŠ‚ç‚¹æ”¾å…¥ä¸€ä¸ªæœ€å°å †ï¼Œå°±å¯ä»¥æ¯æ¬¡è·å¾—`k`ä¸ªèŠ‚ç‚¹ä¸­çš„æœ€å°èŠ‚ç‚¹ï¼š

```
ListNode mergeKLists(ListNode[] lists) {
    if (lists.length == 0) return null;
    // è™šæ‹Ÿå¤´ç»“ç‚¹
    ListNode dummy = new ListNode(-1);
    ListNode p = dummy;
    // ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œæœ€å°å †
    PriorityQueue<ListNode> pq = new PriorityQueue<>(
        lists.length, (a, b)->(a.val - b.val));
    // å°† k ä¸ªé“¾è¡¨çš„å¤´ç»“ç‚¹åŠ å…¥æœ€å°å †
    for (ListNode head : lists) {
        if (head != null)
            pq.add(head);
    }

    while (!pq.isEmpty()) {
        // è·å–æœ€å°èŠ‚ç‚¹ï¼Œæ¥åˆ°ç»“æœé“¾è¡¨ä¸­
        ListNode node = pq.poll();
        p.next = node;
        if (node.next != null) {
            pq.add(node.next);
        }
        // p æŒ‡é’ˆä¸æ–­å‰è¿›
        p = p.next;
    }
    return dummy.next;
}
```

è¿™ä¸ªç®—æ³•æ˜¯é¢è¯•å¸¸è€ƒé¢˜ï¼Œå®ƒçš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘å‘¢ï¼Ÿ

ä¼˜å…ˆé˜Ÿåˆ—`pq`ä¸­çš„å…ƒç´ ä¸ªæ•°æœ€å¤šæ˜¯`k`ï¼Œæ‰€ä»¥ä¸€æ¬¡`poll`æˆ–è€…`add`æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯`O(logk)`ï¼›æ‰€æœ‰çš„é“¾è¡¨èŠ‚ç‚¹éƒ½ä¼šè¢«åŠ å…¥å’Œå¼¹å‡º`pq`ï¼Œ**æ‰€ä»¥ç®—æ³•æ•´ä½“çš„æ—¶é—´å¤æ‚åº¦æ˜¯`O(Nlogk)`ï¼Œå…¶ä¸­`k`æ˜¯é“¾è¡¨çš„æ¡æ•°ï¼Œ`N`æ˜¯è¿™äº›é“¾è¡¨çš„èŠ‚ç‚¹æ€»æ•°**ã€‚

### å•é“¾è¡¨çš„å€’æ•°ç¬¬ k ä¸ªèŠ‚ç‚¹

ä»å‰å¾€åå¯»æ‰¾å•é“¾è¡¨çš„ç¬¬`k`ä¸ªèŠ‚ç‚¹å¾ˆç®€å•ï¼Œä¸€ä¸ª for å¾ªç¯éå†è¿‡å»å°±æ‰¾åˆ°äº†ï¼Œä½†æ˜¯å¦‚ä½•å¯»æ‰¾ä»åå¾€å‰æ•°çš„ç¬¬`k`ä¸ªèŠ‚ç‚¹å‘¢ï¼Ÿ

é‚£ä½ å¯èƒ½è¯´ï¼Œå‡è®¾é“¾è¡¨æœ‰`n`ä¸ªèŠ‚ç‚¹ï¼Œå€’æ•°ç¬¬`k`ä¸ªèŠ‚ç‚¹å°±æ˜¯æ­£æ•°ç¬¬`n - k`ä¸ªèŠ‚ç‚¹ï¼Œä¸ä¹Ÿæ˜¯ä¸€ä¸ª for å¾ªç¯çš„äº‹å„¿å—ï¼Ÿ

æ˜¯çš„ï¼Œä½†æ˜¯ç®—æ³•é¢˜ä¸€èˆ¬åªç»™ä½ ä¸€ä¸ª`ListNode`å¤´ç»“ç‚¹ä»£è¡¨ä¸€æ¡å•é“¾è¡¨ï¼Œä½ ä¸èƒ½ç›´æ¥å¾—å‡ºè¿™æ¡é“¾è¡¨çš„é•¿åº¦`n`ï¼Œè€Œéœ€è¦å…ˆéå†ä¸€éé“¾è¡¨ç®—å‡º`n`çš„å€¼ï¼Œç„¶åå†éå†é“¾è¡¨è®¡ç®—ç¬¬`n - k`ä¸ªèŠ‚ç‚¹ã€‚

ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªè§£æ³•éœ€è¦éå†ä¸¤æ¬¡é“¾è¡¨æ‰èƒ½å¾—åˆ°å‡ºå€’æ•°ç¬¬`k`ä¸ªèŠ‚ç‚¹ã€‚

é‚£ä¹ˆï¼Œæˆ‘ä»¬èƒ½ä¸èƒ½**åªéå†ä¸€æ¬¡é“¾è¡¨**ï¼Œå°±ç®—å‡ºå€’æ•°ç¬¬`k`ä¸ªèŠ‚ç‚¹ï¼Ÿå¯ä»¥åšåˆ°çš„ï¼Œå¦‚æœæ˜¯é¢è¯•é—®åˆ°è¿™é“é¢˜ï¼Œé¢è¯•å®˜è‚¯å®šä¹Ÿæ˜¯å¸Œæœ›ä½ ç»™å‡ºåªéœ€éå†ä¸€æ¬¡é“¾è¡¨çš„è§£æ³•ã€‚

è¿™ä¸ªè§£æ³•å°±æ¯”è¾ƒå·§å¦™äº†ï¼Œå‡è®¾`k = 2`ï¼Œæ€è·¯å¦‚ä¸‹ï¼š

é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆè®©ä¸€ä¸ªæŒ‡é’ˆ`p1`æŒ‡å‘é“¾è¡¨çš„å¤´èŠ‚ç‚¹`head`ï¼Œç„¶åèµ°`k`æ­¥ï¼š

![Image](https://tva1.sinaimg.cn/large/e6c9d24egy1h6783n2yzij20u00gw3yz.jpg)

ç°åœ¨çš„`p1`ï¼Œåªè¦å†èµ°`n - k`æ­¥ï¼Œå°±èƒ½èµ°åˆ°é“¾è¡¨æœ«å°¾çš„ç©ºæŒ‡é’ˆäº†å¯¹å§ï¼Ÿ

è¶è¿™ä¸ªæ—¶å€™ï¼Œå†ç”¨ä¸€ä¸ªæŒ‡é’ˆ`p2`æŒ‡å‘é“¾è¡¨å¤´èŠ‚ç‚¹`head`ï¼š

![Image](https://tva1.sinaimg.cn/large/e6c9d24egy1h6783ueqvbj20u00gw3yx.jpg)

æ¥ä¸‹æ¥å°±å¾ˆæ˜¾ç„¶äº†ï¼Œè®©`p1`å’Œ`p2`åŒæ—¶å‘å‰èµ°ï¼Œ`p1`èµ°åˆ°é“¾è¡¨æœ«å°¾çš„ç©ºæŒ‡é’ˆæ—¶èµ°äº†`n - k`æ­¥ï¼Œ`p2`ä¹Ÿèµ°äº†`n - k`æ­¥ï¼Œä¹Ÿå°±æ°å¥½åˆ°è¾¾äº†é“¾è¡¨çš„å€’æ•°ç¬¬`k`ä¸ªèŠ‚ç‚¹ï¼š

![Image](https://tva1.sinaimg.cn/large/e6c9d24egy1h6783qmpjvj20u00gwwew.jpg)

è¿™æ ·ï¼Œåªéå†äº†ä¸€æ¬¡é“¾è¡¨ï¼Œå°±è·å¾—äº†å€’æ•°ç¬¬`k`ä¸ªèŠ‚ç‚¹`p2`ã€‚

ä¸Šè¿°é€»è¾‘çš„ä»£ç å¦‚ä¸‹ï¼š

```
// è¿”å›é“¾è¡¨çš„å€’æ•°ç¬¬ k ä¸ªèŠ‚ç‚¹
ListNode findFromEnd(ListNode head, int k) {
    ListNode p1 = head;
    // p1 å…ˆèµ° k æ­¥
    for (int i = 0; i < k; i++) {
        p1 = p1.next;
    }
    ListNode p2 = head;
    // p1 å’Œ p2 åŒæ—¶èµ° n - k æ­¥
    while (p1 != null) {
        p2 = p2.next;
        p1 = p1.next;
    }
    // p2 ç°åœ¨æŒ‡å‘ç¬¬ n - k ä¸ªèŠ‚ç‚¹
    return p2;
}
```

å½“ç„¶ï¼Œå¦‚æœç”¨ big O è¡¨ç¤ºæ³•æ¥è®¡ç®—æ—¶é—´å¤æ‚åº¦ï¼Œæ— è®ºéå†ä¸€æ¬¡é“¾è¡¨å’Œéå†ä¸¤æ¬¡é“¾è¡¨çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯`O(N)`ï¼Œä½†ä¸Šè¿°è¿™ä¸ªç®—æ³•æ›´æœ‰æŠ€å·§æ€§ã€‚

å¾ˆå¤šé“¾è¡¨ç›¸å…³çš„ç®—æ³•é¢˜éƒ½ä¼šç”¨åˆ°è¿™ä¸ªæŠ€å·§ï¼Œæ¯”å¦‚è¯´åŠ›æ‰£ç¬¬ 19 é¢˜ã€Œåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹ã€ï¼š

![Image](https://tva1.sinaimg.cn/large/e6c9d24egy1h6783n67xaj20u00gw3yz.jpg)

æˆ‘ä»¬ç›´æ¥çœ‹è§£æ³•ä»£ç ï¼š

```
// ä¸»å‡½æ•°
public ListNode removeNthFromEnd(ListNode head, int n) {
    // è™šæ‹Ÿå¤´èŠ‚ç‚¹
    ListNode dummy = new ListNode(-1);
    dummy.next = head;
    // åˆ é™¤å€’æ•°ç¬¬ n ä¸ªï¼Œè¦å…ˆæ‰¾å€’æ•°ç¬¬ n + 1 ä¸ªèŠ‚ç‚¹
    ListNode x = findFromEnd(dummy, n + 1);
    // åˆ æ‰å€’æ•°ç¬¬ n ä¸ªèŠ‚ç‚¹
    x.next = x.next.next;
    return dummy.next;
}

private ListNode findFromEnd(ListNode head, int k) {
    // ä»£ç è§ä¸Šæ–‡
}
```

è¿™ä¸ªé€»è¾‘å°±å¾ˆç®€å•äº†ï¼Œè¦åˆ é™¤å€’æ•°ç¬¬`n`ä¸ªèŠ‚ç‚¹ï¼Œå°±å¾—è·å¾—å€’æ•°ç¬¬`n + 1`ä¸ªèŠ‚ç‚¹çš„å¼•ç”¨ï¼Œå¯ä»¥ç”¨æˆ‘ä»¬å®ç°çš„`findFromEnd`æ¥æ“ä½œã€‚

ä¸è¿‡æ³¨æ„æˆ‘ä»¬åˆä½¿ç”¨äº†è™šæ‹Ÿå¤´ç»“ç‚¹çš„æŠ€å·§ï¼Œä¹Ÿæ˜¯ä¸ºäº†é˜²æ­¢å‡ºç°ç©ºæŒ‡é’ˆçš„æƒ…å†µï¼Œæ¯”å¦‚è¯´é“¾è¡¨æ€»å…±æœ‰ 5 ä¸ªèŠ‚ç‚¹ï¼Œé¢˜ç›®å°±è®©ä½ åˆ é™¤å€’æ•°ç¬¬ 5 ä¸ªèŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œé‚£æŒ‰ç…§ç®—æ³•é€»è¾‘ï¼Œåº”è¯¥é¦–å…ˆæ‰¾åˆ°å€’æ•°ç¬¬ 6 ä¸ªèŠ‚ç‚¹ã€‚ä½†ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å‰é¢å·²ç»æ²¡æœ‰èŠ‚ç‚¹äº†ï¼Œè¿™å°±ä¼šå‡ºé”™ã€‚

ä½†æœ‰äº†æˆ‘ä»¬è™šæ‹ŸèŠ‚ç‚¹`dummy`çš„å­˜åœ¨ï¼Œå°±é¿å…äº†è¿™ä¸ªé—®é¢˜ï¼Œèƒ½å¤Ÿå¯¹è¿™ç§æƒ…å†µè¿›è¡Œæ­£ç¡®çš„åˆ é™¤ã€‚

### å•é“¾è¡¨çš„ä¸­ç‚¹

åŠ›æ‰£ç¬¬ 876 é¢˜ã€Œé“¾è¡¨çš„ä¸­é—´ç»“ç‚¹ã€å°±æ˜¯è¿™ä¸ªé¢˜ç›®ï¼Œé—®é¢˜çš„å…³é”®ä¹Ÿåœ¨äºæˆ‘ä»¬æ— æ³•ç›´æ¥å¾—åˆ°å•é“¾è¡¨çš„é•¿åº¦`n`ï¼Œå¸¸è§„æ–¹æ³•ä¹Ÿæ˜¯å…ˆéå†é“¾è¡¨è®¡ç®—`n`ï¼Œå†éå†ä¸€æ¬¡å¾—åˆ°ç¬¬`n / 2`ä¸ªèŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯ä¸­é—´èŠ‚ç‚¹ã€‚

å¦‚æœæƒ³ä¸€æ¬¡éå†å°±å¾—åˆ°ä¸­é—´èŠ‚ç‚¹ï¼Œä¹Ÿéœ€è¦è€ç‚¹å°èªæ˜ï¼Œä½¿ç”¨ã€Œå¿«æ…¢æŒ‡é’ˆã€çš„æŠ€å·§ï¼š

æˆ‘ä»¬è®©ä¸¤ä¸ªæŒ‡é’ˆ`slow`å’Œ`fast`åˆ†åˆ«æŒ‡å‘é“¾è¡¨å¤´ç»“ç‚¹`head`ã€‚

**æ¯å½“æ…¢æŒ‡é’ˆ`slow`å‰è¿›ä¸€æ­¥ï¼Œå¿«æŒ‡é’ˆ`fast`å°±å‰è¿›ä¸¤æ­¥ï¼Œè¿™æ ·ï¼Œå½“`fast`èµ°åˆ°é“¾è¡¨æœ«å°¾æ—¶ï¼Œ`slow`å°±æŒ‡å‘äº†é“¾è¡¨ä¸­ç‚¹**ã€‚

ä¸Šè¿°æ€è·¯çš„ä»£ç å®ç°å¦‚ä¸‹ï¼š

```
ListNode middleNode(ListNode head) {
    // å¿«æ…¢æŒ‡é’ˆåˆå§‹åŒ–æŒ‡å‘ head
    ListNode slow = head, fast = head;
    // å¿«æŒ‡é’ˆèµ°åˆ°æœ«å°¾æ—¶åœæ­¢
    while (fast != null && fast.next != null) {
        // æ…¢æŒ‡é’ˆèµ°ä¸€æ­¥ï¼Œå¿«æŒ‡é’ˆèµ°ä¸¤æ­¥
        slow = slow.next;
        fast = fast.next.next;
    }
    // æ…¢æŒ‡é’ˆæŒ‡å‘ä¸­ç‚¹
    return slow;
}
```

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœé“¾è¡¨é•¿åº¦ä¸ºå¶æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸­ç‚¹æœ‰ä¸¤ä¸ªçš„æ—¶å€™ï¼Œæˆ‘ä»¬è¿™ä¸ªè§£æ³•è¿”å›çš„èŠ‚ç‚¹æ˜¯é åçš„é‚£ä¸ªèŠ‚ç‚¹ã€‚

å¦å¤–ï¼Œè¿™æ®µä»£ç ç¨åŠ ä¿®æ”¹å°±å¯ä»¥ç›´æ¥ç”¨åˆ°åˆ¤æ–­é“¾è¡¨æˆç¯çš„ç®—æ³•é¢˜ä¸Šã€‚

### åˆ¤æ–­é“¾è¡¨æ˜¯å¦åŒ…å«ç¯

åˆ¤æ–­å•é“¾è¡¨æ˜¯å¦åŒ…å«ç¯å±äºç»å…¸é—®é¢˜äº†ï¼Œè§£å†³æ–¹æ¡ˆä¹Ÿæ˜¯ç”¨å¿«æ…¢æŒ‡é’ˆï¼š

æ¯å½“æ…¢æŒ‡é’ˆ`slow`å‰è¿›ä¸€æ­¥ï¼Œå¿«æŒ‡é’ˆ`fast`å°±å‰è¿›ä¸¤æ­¥ã€‚

å¦‚æœ`fast`æœ€ç»ˆé‡åˆ°ç©ºæŒ‡é’ˆï¼Œè¯´æ˜é“¾è¡¨ä¸­æ²¡æœ‰ç¯ï¼›å¦‚æœ`fast`æœ€ç»ˆå’Œ`slow`ç›¸é‡ï¼Œé‚£è‚¯å®šæ˜¯`fast`è¶…è¿‡äº†`slow`ä¸€åœˆï¼Œè¯´æ˜é“¾è¡¨ä¸­å«æœ‰ç¯ã€‚

åªéœ€è¦æŠŠå¯»æ‰¾é“¾è¡¨ä¸­ç‚¹çš„ä»£ç ç¨åŠ ä¿®æ”¹å°±è¡Œäº†ï¼š

```
boolean hasCycle(ListNode head) {
    // å¿«æ…¢æŒ‡é’ˆåˆå§‹åŒ–æŒ‡å‘ head
    ListNode slow = head, fast = head;
    // å¿«æŒ‡é’ˆèµ°åˆ°æœ«å°¾æ—¶åœæ­¢
    while (fast != null && fast.next != null) {
        // æ…¢æŒ‡é’ˆèµ°ä¸€æ­¥ï¼Œå¿«æŒ‡é’ˆèµ°ä¸¤æ­¥
        slow = slow.next;
        fast = fast.next.next;
        // å¿«æ…¢æŒ‡é’ˆç›¸é‡ï¼Œè¯´æ˜å«æœ‰ç¯
        if (slow == fast) {
            return true;
        }
    }
    // ä¸åŒ…å«ç¯
    return false;
}
```

å½“ç„¶ï¼Œè¿™ä¸ªé—®é¢˜è¿˜æœ‰è¿›é˜¶ç‰ˆï¼šå¦‚æœé“¾è¡¨ä¸­å«æœ‰ç¯ï¼Œå¦‚ä½•è®¡ç®—è¿™ä¸ªç¯çš„èµ·ç‚¹ï¼Ÿ

![Image](https://tva1.sinaimg.cn/large/e6c9d24egy1h6783p8i4nj20u00gw74w.jpg)

è¿™é‡Œç®€å•æä¸€ä¸‹è§£æ³•ï¼š

```
ListNode detectCycle(ListNode head) {
    ListNode fast, slow;
    fast = slow = head;
    while (fast != null && fast.next != null) {
        fast = fast.next.next;
        slow = slow.next;
        if (fast == slow) break;
    }
    // ä¸Šé¢çš„ä»£ç ç±»ä¼¼ hasCycle å‡½æ•°
    if (fast == null || fast.next == null) {
        // fast é‡åˆ°ç©ºæŒ‡é’ˆè¯´æ˜æ²¡æœ‰ç¯
        return null;
    }

    // é‡æ–°æŒ‡å‘å¤´ç»“ç‚¹
    slow = head;
    // å¿«æ…¢æŒ‡é’ˆåŒæ­¥å‰è¿›ï¼Œç›¸äº¤ç‚¹å°±æ˜¯ç¯èµ·ç‚¹
    while (slow != fast) {
        fast = fast.next;
        slow = slow.next;
    }
    return slow;
}
```

å¯ä»¥çœ‹åˆ°ï¼Œå½“å¿«æ…¢æŒ‡é’ˆç›¸é‡æ—¶ï¼Œè®©å…¶ä¸­ä»»ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å¤´èŠ‚ç‚¹ï¼Œç„¶åè®©å®ƒä¿©ä»¥ç›¸åŒé€Ÿåº¦å‰è¿›ï¼Œå†æ¬¡ç›¸é‡æ—¶æ‰€åœ¨çš„èŠ‚ç‚¹ä½ç½®å°±æ˜¯ç¯å¼€å§‹çš„ä½ç½®ã€‚

æˆ‘ä»¬å‡è®¾å¿«æ…¢æŒ‡é’ˆç›¸é‡æ—¶ï¼Œæ…¢æŒ‡é’ˆ`slow`èµ°äº†`k`æ­¥ï¼Œé‚£ä¹ˆå¿«æŒ‡é’ˆ`fast`ä¸€å®šèµ°äº†`2k`æ­¥ï¼š

![Image](https://tva1.sinaimg.cn/large/e6c9d24egy1h6783q44ykj20u00gw751.jpg)

**`fast`ä¸€å®šæ¯”`slow`å¤šèµ°äº†`k`æ­¥ï¼Œè¿™å¤šèµ°çš„`k`æ­¥å…¶å®å°±æ˜¯`fast`æŒ‡é’ˆåœ¨ç¯é‡Œè½¬åœˆåœˆï¼Œæ‰€ä»¥`k`çš„å€¼å°±æ˜¯ç¯é•¿åº¦çš„ã€Œæ•´æ•°å€ã€**ã€‚

å‡è®¾ç›¸é‡ç‚¹è·ç¯çš„èµ·ç‚¹çš„è·ç¦»ä¸º`m`ï¼Œé‚£ä¹ˆç»“åˆä¸Šå›¾çš„ slow æŒ‡é’ˆï¼Œç¯çš„èµ·ç‚¹è·å¤´ç»“ç‚¹`head`çš„è·ç¦»ä¸º`k - m`ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœä»`head`å‰è¿›`k - m`æ­¥å°±èƒ½åˆ°è¾¾ç¯èµ·ç‚¹ã€‚

å·§çš„æ˜¯ï¼Œå¦‚æœä»ç›¸é‡ç‚¹ç»§ç»­å‰è¿›`k - m`æ­¥ï¼Œä¹Ÿæ°å¥½åˆ°è¾¾ç¯èµ·ç‚¹ã€‚å› ä¸ºç»“åˆä¸Šå›¾çš„ fast æŒ‡é’ˆï¼Œä»ç›¸é‡ç‚¹å¼€å§‹èµ°`k`æ­¥å¯ä»¥è½¬å›åˆ°ç›¸é‡ç‚¹ï¼Œé‚£èµ°`k - m`æ­¥è‚¯å®šå°±èµ°åˆ°ç¯èµ·ç‚¹äº†ï¼š

![Image](https://tva1.sinaimg.cn/large/e6c9d24egy1h6783s0b62j20u00gwzkw.jpg)

æ‰€ä»¥ï¼Œåªè¦æˆ‘ä»¬æŠŠå¿«æ…¢æŒ‡é’ˆä¸­çš„ä»»ä¸€ä¸ªé‡æ–°æŒ‡å‘`head`ï¼Œç„¶åä¸¤ä¸ªæŒ‡é’ˆåŒé€Ÿå‰è¿›ï¼Œ`k - m`æ­¥åä¸€å®šä¼šç›¸é‡ï¼Œç›¸é‡ä¹‹å¤„å°±æ˜¯ç¯çš„èµ·ç‚¹äº†ã€‚

### ä¸¤ä¸ªé“¾è¡¨æ˜¯å¦ç›¸äº¤

è¿™ä¸ªé—®é¢˜æœ‰æ„æ€ï¼Œä¹Ÿæ˜¯åŠ›æ‰£ç¬¬ 160 é¢˜ã€Œç›¸äº¤é“¾è¡¨ã€å‡½æ•°ç­¾åå¦‚ä¸‹ï¼š

```
ListNode getIntersectionNode(ListNode headA, ListNode headB);
```

ç»™ä½ è¾“å…¥ä¸¤ä¸ªé“¾è¡¨çš„å¤´ç»“ç‚¹`headA`å’Œ`headB`ï¼Œè¿™ä¸¤ä¸ªé“¾è¡¨å¯èƒ½å­˜åœ¨ç›¸äº¤ã€‚

å¦‚æœç›¸äº¤ï¼Œä½ çš„ç®—æ³•åº”è¯¥è¿”å›ç›¸äº¤çš„é‚£ä¸ªèŠ‚ç‚¹ï¼›å¦‚æœæ²¡ç›¸äº¤ï¼Œåˆ™è¿”å› nullã€‚

æ¯”å¦‚é¢˜ç›®ç»™æˆ‘ä»¬ä¸¾çš„ä¾‹å­ï¼Œå¦‚æœè¾“å…¥çš„ä¸¤ä¸ªé“¾è¡¨å¦‚ä¸‹å›¾ï¼š

![Image](https://tva1.sinaimg.cn/large/e6c9d24egy1h6783rihafj20km06pq34.jpg)

é‚£ä¹ˆæˆ‘ä»¬çš„ç®—æ³•åº”è¯¥è¿”å›`c1`è¿™ä¸ªèŠ‚ç‚¹ã€‚

è¿™ä¸ªé¢˜ç›´æ¥çš„æƒ³æ³•å¯èƒ½æ˜¯ç”¨`HashSet`è®°å½•ä¸€ä¸ªé“¾è¡¨çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œç„¶åå’Œå¦ä¸€æ¡é“¾è¡¨å¯¹æ¯”ï¼Œä½†è¿™å°±éœ€è¦é¢å¤–çš„ç©ºé—´ã€‚

å¦‚æœä¸ç”¨é¢å¤–çš„ç©ºé—´ï¼Œåªä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼Œä½ å¦‚ä½•åšå‘¢ï¼Ÿ

éš¾ç‚¹åœ¨äºï¼Œç”±äºä¸¤æ¡é“¾è¡¨çš„é•¿åº¦å¯èƒ½ä¸åŒï¼Œä¸¤æ¡é“¾è¡¨ä¹‹é—´çš„èŠ‚ç‚¹æ— æ³•å¯¹åº”ï¼š

![Image](https://tva1.sinaimg.cn/large/e6c9d24egy1h6783ty3c2j20u00gwdgf.jpg)

å¦‚æœç”¨ä¸¤ä¸ªæŒ‡é’ˆ`p1`å’Œ`p2`åˆ†åˆ«åœ¨ä¸¤æ¡é“¾è¡¨ä¸Šå‰è¿›ï¼Œå¹¶ä¸èƒ½**åŒæ—¶**èµ°åˆ°å…¬å…±èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ— æ³•å¾—åˆ°ç›¸äº¤èŠ‚ç‚¹`c1`ã€‚

**æ‰€ä»¥ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜çš„å…³é”®æ˜¯ï¼Œé€šè¿‡æŸäº›æ–¹å¼ï¼Œè®©`p1`å’Œ`p2`èƒ½å¤ŸåŒæ—¶åˆ°è¾¾ç›¸äº¤èŠ‚ç‚¹`c1`**ã€‚

æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥è®©`p1`éå†å®Œé“¾è¡¨`A`ä¹‹åå¼€å§‹éå†é“¾è¡¨`B`ï¼Œè®©`p2`éå†å®Œé“¾è¡¨`B`ä¹‹åå¼€å§‹éå†é“¾è¡¨`A`ï¼Œè¿™æ ·ç›¸å½“äºã€Œé€»è¾‘ä¸Šã€ä¸¤æ¡é“¾è¡¨æ¥åœ¨äº†ä¸€èµ·ã€‚

å¦‚æœè¿™æ ·è¿›è¡Œæ‹¼æ¥ï¼Œå°±å¯ä»¥è®©`p1`å’Œ`p2`åŒæ—¶è¿›å…¥å…¬å…±éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯åŒæ—¶åˆ°è¾¾ç›¸äº¤èŠ‚ç‚¹`c1`ï¼š

![Image](https://tva1.sinaimg.cn/large/e6c9d24egy1h6783r2w40j20u00gwt9s.jpg)

é‚£ä½ å¯èƒ½ä¼šé—®ï¼Œå¦‚æœè¯´ä¸¤ä¸ªé“¾è¡¨æ²¡æœ‰ç›¸äº¤ç‚¹ï¼Œæ˜¯å¦èƒ½å¤Ÿæ­£ç¡®çš„è¿”å› null å‘¢ï¼Ÿ

è¿™ä¸ªé€»è¾‘å¯ä»¥è¦†ç›–è¿™ç§æƒ…å†µçš„ï¼Œç›¸å½“äº`c1`èŠ‚ç‚¹æ˜¯ null ç©ºæŒ‡é’ˆå˜›ï¼Œå¯ä»¥æ­£ç¡®è¿”å› nullã€‚

æŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼Œå¯ä»¥å†™å‡ºå¦‚ä¸‹ä»£ç ï¼š

```
ListNode getIntersectionNode(ListNode headA, ListNode headB) {
    // p1 æŒ‡å‘ A é“¾è¡¨å¤´ç»“ç‚¹ï¼Œp2 æŒ‡å‘ B é“¾è¡¨å¤´ç»“ç‚¹
    ListNode p1 = headA, p2 = headB;
    while (p1 != p2) {
        // p1 èµ°ä¸€æ­¥ï¼Œå¦‚æœèµ°åˆ° A é“¾è¡¨æœ«å°¾ï¼Œè½¬åˆ° B é“¾è¡¨
        if (p1 == null) p1 = headB;
        else            p1 = p1.next;
        // p2 èµ°ä¸€æ­¥ï¼Œå¦‚æœèµ°åˆ° B é“¾è¡¨æœ«å°¾ï¼Œè½¬åˆ° A é“¾è¡¨
        if (p2 == null) p2 = headA;
        else            p2 = p2.next;
    }
    return p1;
}
```

è¿™æ ·ï¼Œè¿™é“é¢˜å°±è§£å†³äº†ï¼Œç©ºé—´å¤æ‚åº¦ä¸º`O(1)`ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º`O(N)`ã€‚

ä»¥ä¸Šå°±æ˜¯å•é“¾è¡¨çš„æ‰€æœ‰æŠ€å·§ï¼Œå¸Œæœ›å¯¹ä½ æœ‰å¯å‘ã€‚
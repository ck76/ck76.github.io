[TOC]

# 一、概述

在这一整个关于图片压缩的知识梳理过程中，我们介绍了四种图片格式的基本原理、使用方式、优化方式，相信大家已经对他们有了一个基本的认识。

那么在实际的开发过程当中，我们应当如何选择合适的图片格式呢？`Google`提出了它们的建议，我们可以以此为参考，在具体的场景中选择合适的图片格式。

# 二、如何选择合适的图片格式

对于前面介绍的四种图片格式（`VectorDrawable/WebP/PNG/JPG`），这几种图片的选择标准可以用下面这幅图来表示，整个选择的优先级为：



```undefined
VD > WebP > PNG > JPG
```

![img](https://tva1.sinaimg.cn/large/008eGmZEly1gmyndmpmb1j30v90jo41j.jpg)

如果大家有阅读前面一系列的文章，那么应该会对这些选取的条件有一个基本的认识，下面就来简要解释一下每个判断条件所设置的含义：

- `Can the image be a VectorDrawable`
- 兼容性问题：`App`本身需要支持`VectorDrawable`，对于`Android 5.0`以上是默认支持的，而对于这`5.0`以下的应用，则需要引入`support`包的支持。
- 图片本身的问题：`VectorDrawable`适用于那些小而简单的图片，如果图片很大或者很复杂，那么由于栅格化所带来的性能损耗有可能会导致最后得不偿失。
- `Do you support WebP`
  这里主要涉及到的是兼容性问题，对于`Android 4.3`以上，默认支持`WebP`。而如果是该`Android`版本之下的平台，那么需要引入`so`，而引入`so`就有可能会增大`APK`的大小，因此，需要在这之间进行权衡。
- `Does it need transparency`
  `PNG`和`JPG`的其中一个差异就是`PNG`支持透明度，如果需要支持带透明度的图片，那么就必须使用`PNG`。
- `Is it simple or complex`
  在不需要支持透明度的情况下，如果图片较为简单，那么我们也可以使用`PNG`，因为它对于简单图像的压缩效果更好。而如果图片很复杂，那么`PNG`压缩效果就不如`JPG`，这时候，我们就可以采用`JPG`。

当我们使用`PNG`和`JPG`时，应当尽可能在用户没有察觉的情况下，采用之前提到的优化手段，对这些资源进行压缩。



作者：泽毛
链接：https://www.jianshu.com/p/98ce8ec87326
来源：简书
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。
1、malloc()函数动态分配内存，成对使用free()来释放分配的内存；

new()和delete()成对使用动态创建和释放单个对象和数组；



2、new返回指定类型指针，并且可以自动计算所需空间大小，而malloc则必须由开发者计算空间大小，并且返回类型是void*,需强行转换为实际类型的指针。



3、malloc只管分配内存，并不能对所得的内存进行初始化，所得新内存中的值都是随机的。

4、malloc/free是标准库函数，需要头文件支持，C程序只能用malloc/free动态管理内存；

new/delete是C++的运算符。



- malloc是c的库函数，从堆区申请内存。
- new是c++运算符，从自由存储区申请内存。
- malloc返回值是void*，需要判断返回值是否为空指针。如果申请内存成功，返回申请的内存地址，申请内存失败返回空指针。使用free()函数释放内存，非空指针只能释放一次。
- new 返回值是申请对象的指针，申请内存失败抛出std::bad_alloc异常。使用delete释放普通对像，delete[] 释放数组。
- malloc，free函数不能重载，不会调用构造函数，释放的时候不会调用析构函数
- new，delete可以重载。
- 申请内存的步骤：先new操作符去申请内存，然后调用构造函数初始化，最后返回指向对象的指针。
- 释放内存的步骤：先调用对象的析构函数，然后再用delete释放内存。



- [动态内存分配、malloc与new的区别](<https://blog.csdn.net/qq_40840459/article/details/81268252>)


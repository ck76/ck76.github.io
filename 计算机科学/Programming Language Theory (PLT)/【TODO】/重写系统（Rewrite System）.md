- https://www.bananaspace.org/wiki/%E9%87%8D%E5%86%99%E7%B3%BB%E7%BB%9F

明白了！让我通过加入一些更详细的解释和类比来帮助你更好地理解重写系统的概念。

### 1. 重写系统的基本概念

#### 什么是重写？

**重写**，顾名思义，就是“重新写”的意思。在编程或数学中，重写是指按照某些规则，将一个表达式的一部分替换为另一个表达式的过程。你可以将重写过程看作是一种变换规则，就像在游戏中，你有一套规定可以将某个图案或符号变成另一个图案或符号。

举个简单的例子，假设我们有一个表达式 $1 + 1$，我们知道 $1 + 1$ 可以计算为 $2$，所以这里的重写规则可以是：

$$
1 + 1 \rightarrow 2
$$

这种重写的过程类似于你在简化数学表达式的时候，将复杂的部分一步一步地转化为更简单的形式，直到你得到了最终结果。

#### 重写系统是什么？

一个**重写系统**可以看作是一个包含一组表达式和这些表达式之间的重写规则的系统。想象一下，你有很多个节点（表达式），这些节点之间有一些箭头（重写规则），指示你如何从一个节点“跳”到另一个节点。

例如，假设你有一个表达式集合 $E$，其中的元素包括所有可能的数学表达式，比如 $1 + 1$、$2 \times 3$、$(x + y) \times z$ 等。重写关系 $→$ 定义了如何将这些表达式中的一个重写成另一个。例如，$1 + 1 \rightarrow 2$ 或 $x \times 0 \rightarrow 0$。

在这个系统中，**重写**就像是一条路标，告诉你如何从一个表达式到达另一个表达式。这个过程可以形成一个有向图，每个表达式是图中的一个顶点，而每个重写关系是图中的一条边。

### 2. 重写系统的性质

#### 自反传递闭包（Reflexive Transitive Closure）

**自反传递闭包**是用来描述“从一个表达式开始，可以通过多次重写到达另一个表达式”的概念。

- **自反性**：这意味着每个表达式都可以不经过任何变换地保持不变。因此，对于任何表达式 $a$，总有 $a →^* a$，即 $a$ 能够转换成它自己。

- **传递性**：如果你可以从表达式 $a$ 重写到表达式 $b$，然后再从 $b$ 重写到表达式 $c$，那么你也可以直接从 $a$ 重写到 $c$。这类似于“如果你能从家走到商店，再从商店走到学校，那你当然能从家直接走到学校”。

在重写系统中，自反传递闭包表示重写关系可以多次应用，从而将一个表达式转换为另一个表达式。

#### 对称传递闭包

**对称传递闭包**表示在自反传递闭包的基础上，允许表达式之间的重写关系是双向的。换句话说，如果 $a$ 可以通过一系列重写转换成 $b$，那么 $b$ 也可以通过另一组重写转换回 $a$。这意味着两个表达式在某种意义上是等价的。

### 3. 重写系统的关键性质

#### 正规形式（Normal Form）

**正规形式**是指一个表达式无法再被进一步简化或重写。当你应用重写规则的时候，如果一个表达式不再能被进一步转换，那么这个表达式就处于它的“最终形式”或“简化形式”。你可以想象正规形式就像一个山顶，当你沿着重写路径一直往上爬，最终到达一个无法再继续的顶点。

#### 合流性（Confluence）

**合流性**是一个重写系统非常重要的性质，它确保了无论你如何应用重写规则，最终你总能到达相同的结果。

想象一下，如果你在某个表达式上有两种不同的重写规则，每种规则将你带到了不同的地方（不同的表达式）。如果这个系统是合流的，那么即使你在中途走了不同的路线，最终总会有一个地方（表达式）是它们可以汇合的。

合流性确保了重写系统的结果是唯一且一致的，无论你选择哪种路径来简化表达式，最终都会得到相同的简化结果。

### 4. 举例说明

- **算术表达式重写**：在计算中，你可以通过一系列的重写规则来简化数学表达式。例如，$1 + 1 \rightarrow 2$ 是一个典型的重写规则。再比如，$x \times 0 \rightarrow 0$ 也是一个常见的规则。这些规则帮助我们从复杂的表达式中一步一步地提取出简化的结果。

- **λ 演算**：λ 演算是一种广泛应用于计算机科学中的形式系统，它本质上是通过重写规则来计算的。比如，β 规约是 λ 演算中的一种重写规则，它描述了如何通过应用函数将一个 λ 表达式转换为另一个 λ 表达式。

### 5. 相关概念的联系

在范畴论的视角下，**计算规则**可以看作是重写的范畴化表达。在这种框架中，重写关系对应于范畴中的箭头或态射，而表达式则对应于对象。重写过程可以视为一种范畴内的态射组合，这使得重写系统不仅仅是一个纯粹的计算工具，还可以用于研究更广泛的数学和逻辑结构。

### 总结

重写系统通过定义一组规则，将表达式转化为更简化或不同形式的表达式。它提供了一个框架，用于研究表达式之间的转换以及这些转换的最终结果。理解这些概念可以帮助我们更好地掌握复杂系统的行为，并确保我们的推理和计算过程的一致性和正确性。
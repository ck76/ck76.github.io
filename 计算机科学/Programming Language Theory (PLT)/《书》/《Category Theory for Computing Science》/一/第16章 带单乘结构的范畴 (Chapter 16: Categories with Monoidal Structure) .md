[toc]



### 总览

在前面的章节中，我们深入探讨了**拓扑图（Toposes）**及其相关结构，如预层（Presheaves）、层（Sheaves）和实现性拓扑图（Realizability Topos）。这些概念为理解复杂的逻辑和数据结构提供了坚实的范畴论基础。接下来，我们将进入**具有单元结构的范畴（Categories with Monoidal Structure）**这一章，讨论在计算机科学及其他领域中常见的具有二元运算的范畴。这些范畴通常具有与单子（Monoids）类似的结构，即结合律和单位元，但这些性质是通过自然同构而非严格满足的。因此，这些范畴被称为**单元范畴（Monoidal Categories）**。

### 16 具有单元结构的范畴（Categories with Monoidal Structure）

许多在计算机科学（及其他领域）中出现的范畴都具有对对象和态射进行二元运算的结构。这个二元运算通常不是严格结合的，而是通过自然同构来满足结合律，并且存在一个单位对象，这个单位对象在自然同构下充当单位。这些结合律和单位元的存在使得这些范畴类似于单子（Monoids），因此被称为**单元范畴**。

#### 16.1 单元范畴（Monoidal Categories）

**定义**：

一个**单元范畴** $(\mathcal{C}, \otimes, I, \alpha, \lambda, \rho)$ 由以下组成部分构成：

1. **二元运算 $\otimes$**：这是一个范畴 $\mathcal{C}$ 上的二元积运算，作用于对象和态射。
2. **单位对象 $I$**：这是 $\mathcal{C}$ 中的一个特定对象，作为二元运算的单位元。
3. **结合自然同构 $\alpha$**：这是一个自然同构，形式为 $\alpha_{A,B,C} : (A \otimes B) \otimes C \cong A \otimes (B \otimes C)$，用于在三元运算中重新排列括号。
4. **左单位自然同构 $\lambda$** 和 **右单位自然同构 $\rho$**：
   - $\lambda_A : I \otimes A \cong A$
   - $\rho_A : A \otimes I \cong A$

这些同构必须满足**杨辉律（Pentagon Identity）**和**三角律（Triangle Identity）**，以确保运算的结构一致性。

**通俗解释**：

- **二元运算 $\otimes$**：类似于集合论中的笛卡尔积，但更为抽象，可以作用于任何范畴中的对象和态射。
- **单位对象 $I$**：类似于数字中的“1”，在二元运算中起到不改变另一个元素的作用。
- **自然同构**：在范畴论中，自然同构是一种“结构保持”的映射。结合自然同构 $\alpha$ 确保了多次应用二元运算时，括号的改变不会影响最终结果。
- **杨辉律和三角律**：这些律确保了二元运算的结合性和单位元的存在性在整个范畴中是一致的，即无论如何重新组合括号或使用单位对象，结构始终保持一致。

**示例**：

- **集合范畴 $\text{Set}$**：笛卡尔积作为二元运算，单元素集合作为单位对象，满足严格的结合律和单位律，因此 $\text{Set}$ 是一个严格的单元范畴。
- **向量空间范畴**：张量积作为二元运算，标量域作为单位对象，结合同构满足单元范畴的要求。

#### 16.2 闭单元范畴（Closed Monoidal Categories）

**定义**：

一个**闭单元范畴**是一个单元范畴，且对于每个对象 $A$，存在一个**内部同态对象** $[A, B]$，满足同构：
$$
\text{Hom}(A \otimes C, B) \cong \text{Hom}(C, [A, B])
$$
这里，$\text{Hom}(A \otimes C, B)$ 表示从 $A \otimes C$ 到 $B$ 的态射集合，而 $\text{Hom}(C, [A, B])$ 表示从 $C$ 到 $[A, B]$ 的态射集合。

**通俗解释**：

- **内部同态对象**：类似于函数空间，给定两个对象 $A$ 和 $B$，内部同态对象 $[A, B]$ 表示从 $A$ 到 $B$ 的态射“集合”，但这个集合本身是范畴中的一个对象。
- **同构关系**：这个同构关系表明，任意从 $A \otimes C$ 到 $B$ 的态射都可以唯一对应到从 $C$ 到 $[A, B]$ 的态射，类似于函数的柯里化（Currying）。

**例子**：

- **向量空间范畴**：内部同态对象 $[A, B]$ 通常被认为是从 $A$ 到 $B$ 的线性变换空间，张量积满足闭单元范畴的要求。
- **Lambda 演算的模型**：在计算机科学中，闭单元范畴用于建模函数式编程语言中的函数类型和应用。

#### 16.3 *-自同构范畴（*-Autonomous Categories）

**定义**：

一个**$*$-自同构范畴** 是一个闭单元范畴，且每个对象 $A$ 存在一个**双对偶对象** $A^*$，满足自然同构：
$$
A \cong (A^*)^*
$$
并且对偶操作满足一定的对称性和结合性条件。

**通俗解释**：

- **双对偶对象**：类似于线性代数中的双重对偶空间，给定一个对象 $A$，它的双对偶对象 $(A^*)^*$ 与 $A$ 同构，意味着 $A$ 在范畴中的结构可以通过对偶性完全恢复。
- **对偶操作**：对偶操作是一种将对象映射到其对偶对象的过程，$*$-自同构范畴中这种操作是对称且自反的。

**例子**：

- **线性代数中的向量空间**：每个有限维向量空间与其双重对偶空间同构，张量积和双对偶操作满足$*$-自同构范畴的要求。
- **逻辑中的线性逻辑**：$*$-自同构范畴为线性逻辑提供了语义模型，其中对偶性对应于逻辑的否定和蕴涵。

#### 16.4 Chu 构造（The Chu Construction）

**定义**：

**Chu 构造** 是一种范畴构造方法，用于生成$*$-自同构范畴。给定任意一个单元范畴 $\mathcal{C}$ 和一个对象 $K$（通常是双对偶的），Chu 构造生成一个新的范畴 $\text{Chu}(\mathcal{C}, K)$，其对象由三元组 $(A, r, B)$ 组成，其中：
- $A$ 和 $B$ 是 $\mathcal{C}$ 中的对象；
- $r : A \otimes B \to K$ 是一个态射。

态射 $(A, r, B) \to (A', r', B')$ 是由两个态射 $f: A \to A'$ 和 $g: B' \to B$ 组成的对，使得下列方程成立：
$$
r' \circ (f \otimes g) = r
$$

**通俗解释**：

- **对象的组成**：每个对象 $(A, r, B)$ 可以看作是 $A$ 和 $B$ 之间通过 $r$ 建立的一种“配对”关系，类似于线性代数中的内积。
- **态射的定义**：态射由两个方向的映射 $f$ 和 $g$ 组成，确保了配对关系 $r$ 与 $r'$ 通过这些映射保持一致。
- **构造新范畴**：Chu 构造通过引入额外的结构（配对态射 $r$），生成一个新的范畴，该范畴具有丰富的对偶性和自同构性，适用于建模逻辑和计算过程中的双向关系。

**例子**：

- **布尔空间**：当 $\mathcal{C} = \text{Set}$ 且 $K = \{0, 1\}$ 时，$\text{Chu}(\text{Set}, \{0,1\})$ 包含了布尔空间和其对偶的配对关系，广泛应用于逻辑和计算机科学。
- **线性代数中的双线性形式**：在向量空间范畴中，Chu 构造可以用于定义双线性形式和对偶性，提供了一种结构化的方法来处理对偶空间。

**性质**：

- **$*$-自同构**：Chu 构造生成的范畴 $\text{Chu}(\mathcal{C}, K)$ 通常是$*$-自同构范畴，具备丰富的对偶性和自同构结构。
- **笛卡尔闭性和幂对象**：Chu 构造保留了原始范畴的一些范畴性质，如笛卡尔闭性和幂对象，使得新范畴在逻辑和计算模型中具有实用性。

**通俗解释**：

- **建模双向关系**：Chu 构造允许我们在新范畴中同时考虑对象和其对偶对象之间的关系，适用于需要双向互动的系统，如双线性代数和对偶逻辑。
- **逻辑和计算的桥梁**：通过引入配对态射，Chu 构造在逻辑推理和计算模型之间建立了一个有效的桥梁，使得复杂的逻辑关系可以在范畴论框架下得到处理。

#### 16.5 习题

1. **习题1**：证明在一个单元范畴中，单位对象 $I$ 和结合自然同构 $\alpha$ 满足杨辉律（Pentagon Identity）。
   
   **提示**：
   - 利用结合自然同构的定义，构造五边形图，验证所有路径的合成同构相等。
   - 参考范畴论中关于自然同构和结合律的基本性质。

2. **习题2**：在闭单元范畴中，证明内部同态对象 $[A, B]$ 满足柯里化（Currying）性质。
   
   **提示**：
   - 利用闭单元范畴的定义，展示 $\text{Hom}(A \otimes C, B) \cong \text{Hom}(C, [A, B])$ 的自然同构。
   - 通过具体的态射构造，验证同构的自然性和双向性。

3. **习题3**：构造一个具体的Chu范畴 $\text{Chu}(\text{Set}, \{0,1\})$，并举例说明其对象和态射。
   
   **提示**：
   - 选择集合范畴 $\text{Set}$ 和二元集合 $K = \{0, 1\}$。
   - 定义对象 $(A, r, B)$ 和态射 $(f, g)$，并验证配对关系的保持条件。

### 总结

本章介绍了**单元范畴（Monoidal Categories）**及其扩展，如**闭单元范畴（Closed Monoidal Categories）**和**$*$-自同构范畴（*-Autonomous Categories）**，并详细讲解了**Chu 构造（The Chu Construction）**。单元范畴通过引入二元运算和自然同构，提供了一种处理对象和态射之间复杂关系的框架。闭单元范畴进一步引入内部同态对象，使得函子柯里化成为可能，增强了范畴的表达能力。$*$-自同构范畴则通过双对偶对象，引入了更为丰富的对偶性结构，适用于线性逻辑和双向系统的建模。

**关键点回顾**：

- **单元范畴的结构**：通过二元运算、单位对象和自然同构，构建了类似于单子的范畴结构。
- **闭单元范畴的内部同态**：引入内部同态对象，实现了范畴内部函子的柯里化，增强了范畴的功能性。
- **$*$-自同构范畴的对偶性**：通过双对偶对象，提供了对称且自反的对偶操作，适用于复杂的逻辑和计算模型。
- **Chu 构造的应用**：通过构造新的$*$-自同构范畴，扩展了范畴论在逻辑和计算中的应用，提供了处理双向关系和对偶结构的有效工具。

通过本章的学习，你应能理解单元范畴及其扩展的基本定义和性质，掌握Chu 构造的基本方法，并认识到这些结构在逻辑和计算模型中的重要应用。这不仅丰富了你的范畴论知识，也为你在数学和计算机科学中的进一步研究提供了强大的理论工具。

---

### 参考文献

- [Barr and Wells, 1985] Michael Barr 和 Charles Wells 合著的《Category Theory for Computing Science》
- [Carboni, Freyd and Scedrov, 1988] Michael Carboni, Peter Freyd, 和 Ivan Scedrov 合著的《The Realizability Topos》
- [Gray, 1991] J. Gray 的相关论文
- [Hyland, 1982] Martin Hyland 的相关论文
- [Rosolini, 1990] Giorgio Rosolini 合著的《The Realizability Topos》
- [Rosolini, 1987] Giorgio Rosolini 的相关论文
- [Goguen, 1974] Joseph Goguen 的相关论文

---

通过本章的学习，你不仅掌握了**单元范畴**及其扩展结构，还理解了**Chu 构造**在构建复杂范畴结构中的作用。这为你进一步探索范畴论在逻辑系统、计算模型和其他数学领域中的应用奠定了坚实的基础。

### ---------------------------

### 总览

在范畴论中，**单元范畴（Monoidal Categories）**是一个具有额外结构的范畴，这种结构包括一个二元运算（通常用符号 $\otimes$ 表示）和一个单位对象（通常用符号 $I$ 表示）。这种结构广泛应用于计算机科学、物理学和数学的多个领域，尤其是在描述并行计算、张量积和逻辑系统时。

本节将详细探讨**闭单元范畴（Closed Monoidal Categories）**的定义及其性质。我们将逐步解释相关概念，并通过通俗的例子帮助你更好地理解这些抽象的数学结构。

---

### 16.1 闭单元范畴（Closed Monoidal Categories）

#### 16.1.1 定义（Definition）

**定义**：

一个**单元范畴**是一个范畴 $\mathcal{C}$，配备了以下结构：

1. **对象 $I$**：称为**单位对象**（Unit Object）。
2. **双函子 $\otimes : \mathcal{C} \times \mathcal{C} \to \mathcal{C}$**：称为**单元积**（Monoidal Product）。我们使用中缀符号 $\otimes$ 表示，因此 $\otimes(A, B)$ 简记为 $A \otimes B$。
3. **自然同构 $\alpha$, $\lambda$, $\rho$**：
   - $\alpha_{A,B,C} : A \otimes (B \otimes C) \cong (A \otimes B) \otimes C$：称为**结合自然同构**（Associativity Isomorphism）。
   - $\lambda_A : I \otimes A \cong A$：称为**左单位自然同构**（Left Unit Isomorphism）。
   - $\rho_A : A \otimes I \cong A$：称为**右单位自然同构**（Right Unit Isomorphism）。

此外，这些自然同构必须满足以下**一致性条件**：

- **图 $MC-5$ 和 $MC-6$ 必须交换**：
  - **图 $MC-5$**：确保结合同构的一致性。
  - **图 $MC-6$**：进一步确保多次应用结合同构时的结构一致性。

**通俗解释**：

- **单元积 $\otimes$**：类似于集合论中的笛卡尔积，但更为抽象，适用于任何范畴中的对象和态射。
- **单位对象 $I$**：类似于数值中的“1”，在二元运算中起到不改变另一个元素的作用。
- **自然同构 $\alpha$, $\lambda$, $\rho$**：这些同构确保了范畴中的二元运算在不同的组合方式下保持一致。例如，$\alpha$ 保证了 $A \otimes (B \otimes C)$ 和 $(A \otimes B) \otimes C$ 是“相同”的，尽管它们的括号不同。

#### 详细解释

一个单元范畴不仅仅是一个具有二元运算的范畴，还需要这个运算满足一定的“灵活性”，即运算的结合性和单位元性不是严格的，而是通过自然同构来实现。这种灵活性使得单元范畴在处理复杂结构时更加灵活和强大。

**结合自然同构 $\alpha$** 允许我们在不同的括号排列下交换对象的顺序，而不破坏其结构。例如，在计算 $A \otimes (B \otimes C)$ 和 $(A \otimes B) \otimes C$ 时，我们可以通过 $\alpha$ 将它们视为等价的。

**左单位自然同构 $\lambda$** 和 **右单位自然同构 $\rho$** 确保了单位对象 $I$ 在二元运算中起到单位元的作用，即 $I \otimes A \cong A$ 和 $A \otimes I \cong A$。

**一致性条件**（图 $MC-5$ 和 $MC-6$ 的交换）确保了这些自然同构在多个层面上的一致性，使得整个单元范畴的结构保持稳定和一致。

---

#### 16.1.2 闭单元范畴的定义（Definition）

**定义**：

一个**闭单元范畴**是一个单元范畴，且对于每个对象 $A$，函子 $A \otimes - : \mathcal{C} \to \mathcal{C}$ 有一个**右伴随函子**。如果我们将右伴随函子的值记为 $A \multimap C$（内部同态对象），则定义条件为：

$$
\text{Hom}(A \otimes B, C) \cong \text{Hom}(B, A \multimap C)
$$

这个同构是**自然的**，即在 $B$ 和 $C$ 上是自然同构的。

**通俗解释**：

- **内部同态对象 $A \multimap C$**：类似于函数空间，表示从 $A$ 到 $C$ 的所有态射的“集合”。不过，这个“集合”本身是范畴中的一个对象。
- **同构关系**：这个关系表明，从 $A \otimes B$ 到 $C$ 的态射集合与从 $B$ 到 $A \multimap C$ 的态射集合是等价的。类似于函数柯里化（Currying），将两个变量的函数转化为一个单变量的函数，其返回值也是一个函数。

**详细解释**：

闭单元范畴引入了内部同态对象，使得范畴内部可以处理更复杂的函数和映射关系。这种结构在计算机科学中尤其有用，例如在函数式编程语言的语义模型中，可以自然地表示高阶函数。

在闭单元范畴中，**函子 $A \otimes -$** 的右伴随函子 $A \multimap -$ 提供了一种将“作用在 $A$ 上”的操作转化为“返回一个函数”的方式。这使得范畴内部的对象和态射之间的关系更加灵活和丰富。

---

#### 16.1.3 例子（Example）

**例子**：

一个具有有限积的范畴自动成为一个**对称单元范畴**（Symmetric Monoidal Category），其中：

- **单元积 $\otimes$** 是范畴的积（Cartesian Product）。
- **单位对象 $I$** 是范畴的终对象（Terminal Object）。

**通俗解释**：

- **有限积**：在集合范畴 $\text{Set}$ 中，积就是笛卡尔积。对于任意两个集合 $A$ 和 $B$，它们的积 $A \times B$ 是所有有序对 $(a, b)$ 组成的集合。
- **终对象**：在 $\text{Set}$ 中，终对象是一个单元素集合（通常记为 $*$ 或 $\{*\}$）。

**结合自然同构 $\alpha$** 和 **交换自然同构 $s$**：

- **结合自然同构 $\alpha_{A,B,C}$**：在集合范畴中，$A \times (B \times C) \cong (A \times B) \times C$ 是一个自然的同构，通过重新排列括号即可实现。
- **交换自然同构 $s_{A,B}$**：即 $A \times B \cong B \times A$，通过交换有序对的顺序实现。

**一致性条件的满足**：

由于集合范畴中的积和终对象满足严格的结合律和单位律，这些自然同构自动满足图 $MC-5$ 和 $MC-6$ 的交换条件。因此，$\text{Set}$ 是一个严格的对称单元范畴。

---

#### 16.1.4 另一个例子（Example）

**例子**：

考虑**关系范畴 $\text{Rel}$**：

- **对象**：集合。
- **态射**：关系，$S \to T$ 是集合 $S \times T$ 的子集。
- **单元积 $\otimes$**：关系范畴中的单元积并不是范畴的积，而是一个类似于笛卡尔积的运算，但其定义不同。
- **交换自然同构 $s$**：即关系的交换，通过元素顺序的交换实现。

在 $\text{Rel}$ 中，内部同态对象 $A \multimap B$ 等于 $A \otimes B$，因此 $\text{Rel}$ 是一个闭单元范畴。

**通俗解释**：

- **关系范畴 $\text{Rel}$**：不同于集合范畴中的函数，$\text{Rel}$ 中的态射是任意的关系，可以将一个集合的元素与另一个集合的多个元素关联起来。
- **单元积 $\otimes$**：在 $\text{Rel}$ 中，单元积 $S \otimes T$ 可以理解为一种扩展的积运算，允许更加灵活的关系定义。
- **闭单元范畴**：通过定义内部同态对象 $A \multimap B = A \otimes B$，关系范畴实现了闭单元范畴的结构。

---

#### 16.1.5 子单元（Subsets of a Monoid）

**例子**：

设 $M$ 是一个**幺半群**（Monoid），即一个集合配备了一个结合的二元运算和一个单位元。考虑一个**偏序集**范畴 $C$，其中：

- **对象**：$M$ 的子集。
- **态射**：包含关系（即子集间的包含关系）。

在这个范畴中：

- **单元积 $\otimes$**：定义为子集的乘积，即 $A \otimes B = \{ab \mid a \in A, b \in B\}$。
- **内部同态对象 $A \multimap C$**：定义为 $\{b \in M \mid ab \in C \text{ 对所有 } a \in A\}$。

**通俗解释**：

- **子单元积**：将两个子集 $A$ 和 $B$ 的乘积定义为所有可能的 $a \in A$ 和 $b \in B$ 的积 $ab$ 组成的集合。
- **内部同态对象**：对于子集 $A$，其内部同态对象 $A \multimap C$ 是所有能够“作用”在 $A$ 上并使得结果仍在 $C$ 中的元素 $b$ 的集合。

**验证闭单元范畴的条件**：

需要验证，对于任意子集 $A, B, C$：

$$
A \otimes B \subseteq C \iff B \subseteq A \multimap C
$$

这满足闭单元范畴的定义，因为内部同态对象 $A \multimap C$ 提供了一种将乘积关系转化为包含关系的方式。

---

#### 16.1.6 上确界半格（Sup Semilattices）

**例子**：

考虑**上确界半格**（Sup Semilattices）的范畴：

- **对象**：上确界半格，即每对元素有一个最小上界（即它们的“或”）。
- **态射**：半格同态，即保留上确界的函数。

在这个范畴中：

- **内部同态对象 $K \multimap L$**：定义为所有从 $K$ 到 $L$ 的上确界半格同态。
- **单元积 $\otimes$**：定义为 $K \otimes L$ 为自由生成的上确界半格，具有以下生成规则：
  - 元素形式为 $(x_1, y_1) \vee (x_2, y_2) \vee \cdots \vee (x_n, y_n)$，其中 $x_i \in K$ 和 $y_i \in L$。
  - 需满足特定的同一化规则，如 $(x_1, y) \vee (x_2, y) = (x_1 \vee x_2, y)$ 和 $(x, y_1) \vee (x, y_2) = (x, y_1 \vee y_2)$。
  - 单位对象为半格的底元素。

**通俗解释**：

- **自由上确界半格**：通过组合元素的“或”操作生成的最小上确界半格，确保所有生成规则都被满足。
- **内部同态对象**：表示从一个上确界半格到另一个上确界半格的所有同态，这些同态保留了“或”操作。

**闭单元范畴的结构**：

通过定义 $K \multimap L$ 为所有的半格同态，并通过上述单元积的构造，确保了范畴中的内部同态对象满足闭单元范畴的定义。

**关键点**：

- **操作的同态性**：在上确界半格中，所有操作（如 $\vee$ 和底元素）都是半格同态，即它们保留了半格结构。
- **柯里化性质**：闭单元范畴的定义确保了范畴内部的函数空间能够通过柯里化进行自然转换。

---

### 总结

**单元范畴**和**闭单元范畴**在范畴论中提供了一种强大的结构化方法，用于处理对象和态射之间复杂的二元运算关系。这些结构在多个数学和计算机科学领域中有广泛的应用，如并行计算、函数式编程语言的语义模型以及逻辑系统的建模。

**关键点回顾**：

- **单元范畴的结构**：通过引入二元运算 $\otimes$ 和单位对象 $I$，并通过自然同构 $\alpha$, $\lambda$, $\rho$ 确保运算的结合性和单位元性。
- **闭单元范畴的扩展**：通过引入内部同态对象 $A \multimap C$，使得范畴内部能够处理更复杂的函数和映射关系，实现了函子柯里化的性质。
- **具体例子**：
  - **集合范畴 $\text{Set}$**：通过笛卡尔积和单元素集合作为单位对象，形成一个严格的对称单元范畴。
  - **关系范畴 $\text{Rel}$**：通过特殊的单元积定义，形成一个闭单元范畴。
  - **上确界半格的范畴**：展示了如何在不同的范畴中实现闭单元结构。

通过对这些概念和例子的理解，你将能够在更高层次上应用范畴论的工具，处理复杂的逻辑和计算结构，为进一步探索范畴论的高级主题奠定坚实的基础。

---

### 参考文献

- [Mac Lane, 1971] Saunders Mac Lane. *Categories for the Working Mathematician*. Springer.
- [Asperti and Longo, 1991] Maurizio Asperti 和 Roberto Longo. *Logical Foundations of Computer Science*.
- [Corradini and Asperti, 1993] Alberto Corradini 和 Maurizio Asperti. *Category Theory for Computer Science*.
- [Marti Oliet and Meseguer, 1991] Martí Oliet 和 José Meseguer. *Monoidal Categories and Applications*.
- [Bartha, 1992] Péter Bartha. *The Semantics of Computation*.

---

通过本节的学习，你应能理解**闭单元范畴**的基本定义、结构以及具体的例子。这不仅丰富了你的范畴论知识，也为你在数学和计算机科学中的进一步研究提供了强大的理论工具。

### ----------------------------

### 总览

在范畴论中，**单元范畴（Monoidal Categories）**是一类具有额外结构的范畴，这种结构包括一个二元运算（通常记为 $\otimes$）和一个单位对象（通常记为 $I$）。这些结构使得单元范畴在处理并行计算、张量积、逻辑系统等领域中非常有用。**闭单元范畴（Closed Monoidal Categories）**则是在单元范畴的基础上进一步引入了内部同态对象（Internal Hom），从而增强了范畴的表达能力。

本节将详细探讨**闭单元范畴**的定义、性质及其具体例子，帮助你深入理解这一重要概念。

---

### 16.1 闭单元范畴（Closed Monoidal Categories）

#### 16.1.1 定义（Definition）

**单元范畴**是一个范畴 $\mathcal{C}$，配备了以下结构：

1. **单位对象 $I$**：这是 $\mathcal{C}$ 中的一个特定对象，类似于数值中的“1”，在二元运算中起到单位元的作用。
2. **双函子 $\otimes : \mathcal{C} \times \mathcal{C} \to \mathcal{C}$**：这是一个范畴上的二元运算，通常称为**单元积**（Monoidal Product）。我们使用中缀符号 $\otimes$ 表示，因此 $\otimes(A, B)$ 简记为 $A \otimes B$。
3. **自然同构 $\alpha$, $\lambda$, $\rho$**：
   - $\alpha_{A,B,C} : A \otimes (B \otimes C) \cong (A \otimes B) \otimes C$ **结合自然同构**（Associativity Isomorphism）
   - $\lambda_A : I \otimes A \cong A$ **左单位自然同构**（Left Unit Isomorphism）
   - $\rho_A : A \otimes I \cong A$ **右单位自然同构**（Right Unit Isomorphism）

此外，这些自然同构必须满足以下**一致性条件**：

- **图 $MC-5$ 和 $MC-6$ 必须交换**：
  - **图 $MC-5$**：确保结合自然同构在特定排列下的一致性。
  - **图 $MC-6$**：进一步确保多次应用结合自然同构时的结构一致性。

**通俗解释**：

- **单元积 $\otimes$**：类似于集合论中的笛卡尔积，但更为抽象，适用于任何范畴中的对象和态射。
- **单位对象 $I$**：类似于数值中的“1”，在单元积运算中起到不改变另一个元素的作用。
- **自然同构**：在范畴论中，自然同构是一种“结构保持”的映射。结合自然同构 $\alpha$ 确保了 $A \otimes (B \otimes C)$ 和 $(A \otimes B) \otimes C$ 是“相同”的，尽管括号的排列不同。
- **一致性条件**：这些条件确保了在多个层面上的结合性和单位元性保持一致，使得单元范畴的结构稳定。

**示例**：

- **集合范畴 $\text{Set}$**：在 $\text{Set}$ 中，单元积 $\otimes$ 是笛卡尔积，单位对象 $I$ 是一个单元素集合（如 $\{*\}$）。结合自然同构 $\alpha$ 是重新排列括号的自然同构，左单位同构 $\lambda$ 和右单位同构 $\rho$ 则分别是 $\{*\} \times A \cong A$ 和 $A \times \{*\} \cong A$。

---

#### 16.1.2 闭单元范畴的定义（Definition）

**闭单元范畴**是在单元范畴的基础上进一步引入了**内部同态对象（Internal Hom）**的范畴。具体定义如下：

**定义**：

一个**闭单元范畴**是一个单元范畴，且对于每个对象 $A$，函子 $A \otimes - : \mathcal{C} \to \mathcal{C}$ 有一个**右伴随函子**，记为 $A \multimap -$。这意味着存在自然同构：

$$
\text{Hom}(A \otimes B, C) \cong \text{Hom}(B, A \multimap C)
$$

这里，$\text{Hom}(A \otimes B, C)$ 表示从 $A \otimes B$ 到 $C$ 的态射集合，而 $\text{Hom}(B, A \multimap C)$ 表示从 $B$ 到 $A \multimap C$ 的态射集合。

**通俗解释**：

- **内部同态对象 $A \multimap C$**：类似于函数空间，表示从 $A$ 到 $C$ 的所有态射的“集合”。不过，这个“集合”本身是范畴中的一个对象。
- **同构关系**：这个关系表明，从 $A \otimes B$ 到 $C$ 的态射集合与从 $B$ 到 $A \multimap C$ 的态射集合是等价的。类似于函数柯里化（Currying），将两个变量的函数转化为一个单变量的函数，其返回值也是一个函数。

**详细解释**：

- **右伴随函子**：在范畴论中，给定一个函子 $F: \mathcal{C} \to \mathcal{D}$，如果存在一个函子 $G: \mathcal{D} \to \mathcal{C}$，使得对于所有对象 $C \in \mathcal{C}$ 和 $D \in \mathcal{D}$，$\text{Hom}_{\mathcal{D}}(F(C), D) \cong \text{Hom}_{\mathcal{C}}(C, G(D))$，则称 $G$ 是 $F$ 的**右伴随函子**。
- **函子柯里化**：在函数式编程中，柯里化是将接受多个参数的函数转换为一系列接受单一参数的函数的过程。闭单元范畴中的同构关系类似地将多个参数的态射转换为单一参数的态射。

通过引入内部同态对象，闭单元范畴允许在范畴内部处理更复杂的函数和映射关系。这种结构在计算机科学中尤其有用，例如在函数式编程语言的语义模型中，可以自然地表示高阶函数。

---

#### 16.1.3 例子（Example）

**例子**：

**笛卡尔闭范畴（Cartesian Closed Categories）**：

一个具有有限积的范畴自动成为一个**对称单元范畴**（Symmetric Monoidal Category），其中：

- **单元积 $\otimes$** 是范畴的积（Cartesian Product）。
- **单位对象 $I$** 是范畴的终对象（Terminal Object）。

**具体说明**：

- **有限积**：在集合范畴 $\text{Set}$ 中，积就是笛卡尔积。对于任意两个集合 $A$ 和 $B$，它们的积 $A \times B$ 是所有有序对 $(a, b)$ 组成的集合。
- **终对象**：在 $\text{Set}$ 中，终对象是一个单元素集合（通常记为 $*$ 或 $\{*\}$）。

**自然同构 $\alpha$ 和交换同构 $s$**：

- **结合自然同构 $\alpha_{A,B,C}$**：在集合范畴中，$A \times (B \times C) \cong (A \times B) \times C$ 是一个自然的同构，通过重新排列括号即可实现。
- **交换自然同构 $s_{A,B}$**：即 $A \times B \cong B \times A$，通过交换有序对的顺序实现。

**一致性条件的满足**：

由于集合范畴中的积和终对象满足严格的结合律和单位律，这些自然同构自动满足图 $MC-5$ 和 $MC-6$ 的交换条件。因此，$\text{Set}$ 是一个严格的对称单元范畴。

**通俗解释**：

- **笛卡尔积**：类似于数学中的笛卡尔积，将两个集合的元素配对。
- **自然同构**：在集合范畴中，重新排列括号或交换元素顺序不会改变集合的结构，这确保了单元范畴的结合性和对称性。

---

#### 16.1.4 另一个例子（Example）

**例子**：

**关系范畴 $\text{Rel}$**：

- **对象**：集合。
- **态射**：关系，$S \to T$ 是集合 $S \times T$ 的子集。
- **单元积 $\otimes$**：关系范畴中的单元积并不是范畴的积，而是一个类似于笛卡尔积的运算，但其定义不同，通常通过某种合适的组合方式来定义。
- **交换自然同构 $s$**：即关系的交换，通过元素顺序的交换实现。

**具体说明**：

- **内部同态对象 $A \multimap B$**：在 $\text{Rel}$ 中，内部同态对象等于 $A \otimes B$。这意味着 $\text{Hom}(A \otimes B, C) \cong \text{Hom}(B, A \otimes C)$。
- **闭单元范畴**：通过定义 $A \multimap B = A \otimes B$，关系范畴 $\text{Rel}$ 实现了闭单元范畴的结构。

**通俗解释**：

- **关系范畴中的态射**：不同于集合范畴中的函数，$\text{Rel}$ 中的态射是任意的关系，可以将一个集合的元素与另一个集合的多个元素关联起来。
- **单元积 $\otimes$**：在 $\text{Rel}$ 中，单元积 $S \otimes T$ 是通过某种特定的关系组合方式定义的，允许更加灵活的关系定义。

**性质**：

- **闭单元范畴**：通过定义内部同态对象 $A \multimap B = A \otimes B$，关系范畴 $\text{Rel}$ 实现了闭单元范畴的结构。这意味着关系范畴中态射的内部同态对象具有类似于函数空间的性质，但在关系范畴中，这些对象更为抽象。

---

#### 16.1.5 子单元（Subsets of a Monoid）

**例子**：

设 $M$ 是一个**幺半群**（Monoid），即一个集合配备了一个结合的二元运算和一个单位元。考虑一个**偏序集**范畴 $C$，其中：

- **对象**：$M$ 的子集。
- **态射**：包含关系（即子集间的包含关系）。

**具体构造**：

- **单元积 $\otimes$**：定义为子集的乘积，即 $A \otimes B = \{ab \mid a \in A, b \in B\}$。
- **内部同态对象 $A \multimap C$**：定义为 $\{b \in M \mid ab \in C \text{ 对所有 } a \in A\}$。

**验证闭单元范畴的条件**：

需要验证，对于任意子集 $A, B, C$：

$$
A \otimes B \subseteq C \iff B \subseteq A \multimap C
$$

**通俗解释**：

- **子单元积**：将两个子集 $A$ 和 $B$ 的乘积定义为所有可能的 $a \in A$ 和 $b \in B$ 的积 $ab$ 组成的集合。
- **内部同态对象**：对于子集 $A$，其内部同态对象 $A \multimap C$ 是所有能够“作用”在 $A$ 上并使得结果仍在 $C$ 中的元素 $b$ 的集合。

**详细说明**：

- **单元积与内部同态对象**：通过定义 $A \otimes B$ 和 $A \multimap C$，我们确保了闭单元范畴的条件，即 $A \otimes B \subseteq C$ 当且仅当 $B \subseteq A \multimap C$。
- **偏序集范畴**：在这种范畴中，态射仅为包含关系，单元积通过集合的乘积运算实现。

**通俗解释**：

- **封闭性**：内部同态对象 $A \multimap C$ 提供了一种方式，将 $A$ 和 $C$ 之间的关系封装为一个新的对象，从而确保闭单元范畴的结构。
- **子单元积**：这种构造方法利用了幺半群的结合性和单位元性，确保了单元积和内部同态对象的定义符合闭单元范畴的要求。

---

#### 16.1.6 上确界半格（Sup Semilattices）

**例子**：

考虑**上确界半格**（Sup Semilattices）的范畴：

- **对象**：上确界半格，即每对元素有一个最小上界（即它们的“或”）。
- **态射**：半格同态，即保留上确界的函数。

**具体构造**：

- **内部同态对象 $K \multimap L$**：定义为所有从 $K$ 到 $L$ 的上确界半格同态。
- **单元积 $\otimes$**：定义为 $K \otimes L$ 为自由生成的上确界半格，具有以下生成规则：
  - 元素形式为 $(x_1, y_1) \vee (x_2, y_2) \vee \cdots \vee (x_n, y_n)$，其中 $x_i \in K$ 和 $y_i \in L$。
  - 需满足特定的同一化规则，如 $(x_1, y) \vee (x_2, y) = (x_1 \vee x_2, y)$ 和 $(x, y_1) \vee (x, y_2) = (x, y_1 \vee y_2)$。
  - 单位对象为半格的底元素（即 $\bot$）。

**通俗解释**：

- **自由上确界半格**：通过组合元素的“或”操作生成的最小上确界半格，确保所有生成规则都被满足。
- **内部同态对象**：表示从一个上确界半格到另一个上确界半格的所有同态，这些同态保留了“或”操作。

**闭单元范畴的结构**：

通过定义 $K \multimap L$ 为所有的半格同态，并通过上述单元积的构造，确保了范畴中的内部同态对象满足闭单元范畴的定义。

**关键点**：

- **操作的同态性**：在上确界半格中，所有操作（如 $\vee$ 和底元素）都是半格同态，即它们保留了半格结构。
- **柯里化性质**：闭单元范畴的定义确保了范畴内部的函数空间能够通过柯里化进行自然转换。

**通俗解释**：

- **上确界半格中的同态函数**：这些函数不仅仅是普通的函数，它们还需要保留“或”操作的结构。这种结构确保了范畴的闭单元性。
- **自由生成的半格**：通过自由生成的方式构造单元积，确保了闭单元范畴的条件得到满足。

---

### 16.2 A−◦C 的性质（Properties of $A \multimap C$）

闭单元范畴展示了范畴论最早的一些见解之一：如果一个范畴中的任意两个对象之间的态射集在某种自然的方式下也是该范畴中的一个对象，那么这个范畴就是相当特殊的。尽管在范畴中拥有某种（或多种）单元结构比拥有闭结构更为常见，但通常在存在闭结构时，定义闭结构会更容易。上确界半格的例子很好地说明了这一点。

#### 16.2.1 内部同态（The Internal Hom）

**内部同态** $A \multimap C$ 是闭单元范畴中的一个关键概念，其具有类似于“外部”同态（Set-valued Hom functor）的性质。

**主要特性**：

1. **内部同态的命名**：$A \multimap C$ 被称为 $A$ 到 $C$ 的**内部同态**（Internal Hom）。
2. **函子性质**：
   - 对于每个对象 $A$，$A \otimes -$ 是一个函子 $\mathcal{C} \to \mathcal{C}$。
   - 内部同态函数 $A \multimap -$ 是 $A \otimes -$ 的右伴随函子。
3. **对偶性**：
   - $A \multimap C$ 的定义使得 $A \otimes B$ 到 $C$ 的态射与 $B$ 到 $A \multimap C$ 的态射之间存在自然的双射关系。
   - 这种关系类似于函数柯里化，允许将多个变量的态射转化为单变量的态射。

**通俗解释**：

- **内部同态对象**：可以视为范畴内部的“函数空间”，它封装了从 $A$ 到 $C$ 的所有态射。
- **函子性质**：$A \otimes -$ 的右伴随函子 $A \multimap -$ 提供了一种将作用在 $A$ 上的操作转化为返回一个函数的方式。

**详细说明**：

- **自然同构**：对于每对对象 $B$ 和 $C$，存在自然同构：

  $$
  \text{Hom}(A \otimes B, C) \cong \text{Hom}(B, A \multimap C)
  $$

  这意味着，对于任意从 $A \otimes B$ 到 $C$ 的态射，我们可以唯一地对应到从 $B$ 到 $A \multimap C$ 的态射，反之亦然。

- **函子 $A \otimes -$**：这个函子将对象 $B$ 映射到 $A \otimes B$，将态射 $f: B \to C$ 映射到 $A \otimes f : A \otimes B \to A \otimes C$。

**通俗解释**：

- **函子柯里化**：类似于函数式编程中的柯里化过程，内部同态对象 $A \multimap C$ 允许我们将一个具有多个参数的态射转化为一系列具有单一参数的态射。

---

#### 16.2.2 命题（Proposition）

**命题**：

在任何单元闭范畴中，存在一个自然的等价（三变量函子之间的自然等价）：

$$
(A \otimes B) \multimap C \cong B \multimap (A \multimap C)
$$

**解释**：

这个命题展示了在单元闭范畴中，内部同态对象的结合性。具体来说，$(A \otimes B) \multimap C$ 与 $B \multimap (A \multimap C)$ 是自然等价的。这种等价性反映了范畴论中对偶性的深刻结构。

**通俗解释**：

- **结合性**：这个等价性意味着，无论你是先将 $A$ 和 $B$ 结合后再与 $C$ 构造内部同态，还是先构造 $A$ 到 $C$ 的内部同态再与 $B$ 结合，结果是等价的。
- **自然性**：这个等价性在所有三个对象 $A$、$B$、$C$ 上都是自然的，即它们在不同的对象和态射之间保持一致性。

**详细说明**：

**证明**：

证明使用了**Yoneda 引理**（Yoneda Lemma）和**结合自然同构 $\alpha$**。以下是证明的步骤：

1. **构造态射集合的同构**：

   $$
   \text{Hom}(D, (A \otimes B) \multimap C) \cong \text{Hom}(A \otimes B \otimes D, C)
   $$

   利用闭单元范畴的定义，内部同态对象 $(A \otimes B) \multimap C$ 满足：

   $$
   \text{Hom}(A \otimes B \otimes D, C) \cong \text{Hom}(B \otimes D, A \multimap C)
   $$

2. **利用结合同构**：

   结合自然同构 $\alpha$ 使得：

   $$
   A \otimes (B \otimes D) \cong (A \otimes B) \otimes D
   $$

3. **综合同构**：

   结合以上同构关系，通过 Yoneda 引理，可以得到：

   $$
   \text{Hom}(D, (A \otimes B) \multimap C) \cong \text{Hom}(D, B \multimap (A \multimap C))
   $$

   由于这种同构对于所有对象 $D$ 都成立，根据 Yoneda 引理，内部同态对象本身也必须是自然同构的。

**通俗解释**：

- **双向转换**：这个等价性允许我们在范畴中灵活地转换不同的态射结构，无论是先组合 $A$ 和 $B$ 再映射，还是先映射 $A$ 再与 $B$ 组合，最终结果都是一致的。
- **范畴结构的一致性**：这种一致性确保了范畴结构在不同层面的操作中保持稳定，不会因为操作顺序的变化而导致结构的不一致。

---

#### 16.2.3 例子（Example）

**例子**：

**M-acts 的范畴**：

设 $M$ 是一个**交换单子**（Commutative Monoid）。回顾 3.2.1 节中的定义：

- **M-作用**（M-action）：是一个集合 $S$，配备了一个函数 $\alpha : M \times S \to S$，满足以下条件：
  - $m \cdot (n \cdot s) = (m \cdot n) \cdot s$ （结合律）
  - $1 \cdot s = s$ （单位律）

我们通常简写 $\alpha(m, s)$ 为 $ms$，并且不显式提及 $\alpha$。

**构造方法**：

1. **定义单元积 $\otimes$**：

   - 设 $S$ 和 $T$ 是 $M$-作用。
   - 定义 $S \otimes_M T$ 为 $S \times T$ 上的商集，通过以下等价关系：
     $$
     ms \otimes t = s \otimes mt \quad \text{对所有 } m \in M, s \in S, t \in T
     $$
   
   **通俗解释**：

   - **等价关系**：将 $S \times T$ 中的元素按照 $M$ 的作用进行等价化，使得乘以 $m$ 后的结果在 $\otimes_M$ 中视为相同。

2. **内部同态对象 $S \multimap_M T$**：

   - 定义为所有**等价的映射** $f: S \to T$，满足：
     $$
     f(ms) = mf(s) \quad \text{对所有 } m \in M, s \in S
     $$
   
   **通俗解释**：

   - **等价映射**：这些映射 $f$ 保留了 $M$-作用的结构，即作用在 $S$ 上的 $M$ 元素通过 $f$ 后等价于作用在 $T$ 上的 $M$ 元素。

**闭单元范畴的结构**：

- **单元积 $\otimes_M$** 和 **内部同态对象 $S \multimap_M T$** 共同构成了 $M$-acts 范畴的闭单元结构。
- **交换性**：由于 $M$ 是交换的，单元积运算 $\otimes_M$ 是对称的。

**通俗解释**：

- **结构保留**：$M$-acts 范畴中的态射和单元积运算确保了 $M$-作用的结构在范畴内部得到保留和传递。
- **闭性**：内部同态对象提供了一种将态射的操作封装为对象的方法，使得范畴内部能够处理更加复杂的映射关系。

---

#### 16.2.4 评价与组合（Evaluation and Composition）

在闭单元范畴中，有一些由伴随性引入的派生态射，主要包括**评价态射**（Evaluation）和**组合态射**（Composition）。

**评价态射 $e(A, B)$**：

- **定义**：
  $$
  e(A, B) : A \otimes (A \multimap B) \to B
  $$
- **解释**：
  - **内部化评价函数**：$e(A, B)$ 内部化了从 $A \otimes (A \multimap B)$ 到 $B$ 的评价函数。这类似于函数应用，即将一个对象 $A$ 和一个从 $A$ 到 $B$ 的函数组合，得到一个 $B$ 对象。
  - **自然性**：这个态射在 $A$ 和 $B$ 上都是自然的，即在不同对象和态射之间保持一致性。

**组合态射 $c(A, B, C)$**：

- **定义**：
  $$
  c(A, B, C) : (A \multimap B) \otimes (B \multimap C) \to A \multimap C
  $$
- **构造**：
  - 该态射通过伴随性与态射 $A \otimes (A \multimap B) \otimes (B \multimap C) \to C$ 对应。
  - 具体构造步骤如下：
    1. 先应用评价态射 $e(A, B) \otimes \text{id}$ 到 $A \otimes (A \multimap B) \otimes (B \multimap C)$，得到 $B \otimes (B \multimap C)$。
    2. 再应用评价态射 $e(B, C)$ 到 $B \otimes (B \multimap C)$，得到 $C$。
    3. 通过伴随性将其对应到 $A \multimap C$。

- **解释**：
  - **内部化组合函数**：$c(A, B, C)$ 内部化了从 $A \multimap B$ 和 $B \multimap C$ 到 $A \multimap C$ 的函数组合过程。这类似于函数的组合，即将两个函数组合成一个新的函数。

**通俗解释**：

- **评价态射**：类似于函数应用，将一个函数和它的输入结合，得到输出。
- **组合态射**：类似于函数的组合，将两个函数合并成一个新的函数，确保结果的正确性和一致性。

**详细说明**：

- **自然同构**：由于伴随性，同构关系确保了这些派生态射在范畴内部的自然性和一致性。
- **范畴内部的操作**：这些态射允许我们在闭单元范畴内部进行复杂的操作，如函数应用和函数组合，类似于编程语言中的函数调用和函数组合。

---

#### 16.2.5 在闭单元范畴中的余三重范畴（Cotriples in Closed Monoidal Categories）

**定义**：

设 $G = (G, \epsilon, \delta)$ 是 $\mathcal{C}$ 上的一个**余三重范畴**（Cotriple，也称为**余单子**，Coalgebraic Triple），其余三元组包括：

- **余三元函数 $G$**：一个函子 $G: \mathcal{C} \to \mathcal{C}$。
- **自然变换 $\epsilon$** 和 $\delta$**：
  - $\epsilon: G \to \text{id}_{\mathcal{C}}$（单位）
  - $\delta: G \to G \circ G$（复制）

**Kleisli 范畴 $K(G)$**：

- **对象**：与 $\mathcal{C}$ 相同。
- **态射**：$K(G)(A, B) = \mathcal{C}(G(A), B)$，即从 $G(A)$ 到 $B$ 的态射。
- **态射的合成**：
  - 给定 $f: G(A) \to B$ 和 $g: G(B) \to C$，它们的合成 $g \circ f: G(A) \to C$ 定义为 $g \circ G(f) \circ \delta_A$。

**通俗解释**：

- **Kleisli 范畴**：这是一个新的范畴，基于原范畴 $\mathcal{C}$ 和余三重范畴 $G$ 构造而成。在这个范畴中，态射代表了使用 $G$ 的操作后的映射。
- **余三重范畴的应用**：余三重范畴常用于建模具有某种“效果”或“上下文”的计算过程，如状态、异常处理等。

**重要性质**：

- **Kleisli 范畴的笛卡尔闭性**：在某些条件下，Kleisli 范畴可以是笛卡尔闭范畴，这使得它能够建模经典逻辑在某些扩展逻辑（如线性逻辑）中的应用。

**通俗解释**：

- **范畴的扩展**：通过引入余三重范畴，Kleisli 范畴扩展了原范畴的功能，使得可以在新范畴中处理更复杂的映射和组合。

---

#### 16.2.6 定理（Theorem）

**定理**：

设 $G = (G, \epsilon, \delta)$ 是一个在对称闭单元范畴 $\mathcal{C}$ 上的余三重范畴，并且满足对于所有对象 $A$ 和 $B$，存在自然同构：

$$
G(- \otimes -) \cong G(-) \otimes G(-)
$$

那么，余三重范畴 $G$ 的 Kleisli 范畴 $K(G)$ 是一个**笛卡尔闭范畴**。

**通俗解释**：

- **条件**：如果余三重范畴 $G$ 在 $\mathcal{C}$ 上的行为与单元积 $\otimes$ 保持一致（通过自然同构），则其 Kleisli 范畴 $K(G)$ 将具有笛卡尔闭范畴的结构。
- **结论**：这意味着在 Kleisli 范畴中，可以定义产品和内部同态对象，从而使其能够建模经典逻辑。

**证明概述**：

1. **构造同构关系**：
   $$
   K(G)(A, B \times C) \cong \mathcal{C}(G(A), B \times C) \cong \mathcal{C}(G(A) \otimes G(B), C) \cong \mathcal{C}(G(B), G(A) \multimap C) \cong K(G)(B, G(A) \multimap C)
   $$
2. **自然同构**：
   - 通过 Yoneda 引理和结合自然同构 $\alpha$，这些同构关系在所有对象 $A$、$B$、$C$ 上都是自然的。
3. **结论**：
   - 由于这些同构关系的自然性，Kleisli 范畴 $K(G)$ 满足笛卡尔闭范畴的定义。

**通俗解释**：

- **函数空间的建模**：这个定理表明，通过 Kleisli 范畴，我们可以在原范畴的基础上构造出一个能够处理函数空间和产品的新的范畴。
- **逻辑建模**：在计算机科学中，这种结构允许我们在 Kleisli 范畴中自然地建模经典逻辑的产品和函数类型。

---

#### 16.2.7 习题（Exercises）

1. **习题1**：证明命题 16.2.2 中的同构是自然的。

   **提示**：
   - 利用命题中提到的同构构造过程，展示在所有对象 $D$ 上同构的自然性。
   - 参考 Yoneda 引理，确保同构在所有态射之间保持一致。

2. **习题2**：证明当 $M$ 是一个交换单子时，按照 16.2.3 节中描述的 $M$-acts 范畴是一个闭单元范畴。

   **提示**：
   - 使用 $M$-acts 的单元积和内部同态对象的定义，验证闭单元范畴的条件。
   - 展示 $S \multimap_M T$ 满足内部同态的性质。

3. **习题3**：完成以下项目性练习，深入理解函子和自然变换：

   a. **部分a**：设 $F : \text{Ob}(A) \times \text{Ob}(B) \to \text{Ob}(C)$ 是一个对象函数，想要将其完成为一个函子。证明需要完成以下步骤：
      1. 对于每个对象 $A \in A$，构造一个函子 $F(A, -) : B \to C$。
      2. 对于每个对象 $B \in B$，构造一个函子 $F(-, B) : A \to C$。
      3. 对于每个态射 $f : A \to A'$ 和 $g : B \to B'$，证明下列方阵交换：
         $$
         \begin{array}{ccc}
         F(A', B) & \xrightarrow{F(A', g)} & F(A', B') \\
         \downarrow{F(f, B)} & & \downarrow{F(f, B')} \\
         F(A, B) & \xrightarrow{F(A, g)} & F(A, B')
         \end{array}
         $$
   
   b. **部分b**：证明上述第三个条件等价于以下两个条件：
      1. 对于每个态射 $f : A \to A'$，$F(f, -) : F(A, -) \to F(A', -)$ 是一个自然变换。
      2. 对于每个态射 $g : B \to B'$，$F(-, g) : F(-, B) \to F(-, B')$ 是一个自然变换。
   
   c. **部分c**：证明当 $\mathcal{C}$ 是一个闭单元范畴时，可以自然地为每个态射 $f : A' \to A$ 和 $h : C \to C'$ 定义态射：
      - $f \multimap C : A \multimap C \to A' \multimap C$
      - $A \multimap h : A \multimap C \to A \multimap C'$
         并确保同构 $\text{Hom}(A \otimes B, C) \cong \text{Hom}(B, A \multimap C)$ 在所有三个参数上都是自然的。

   **提示**：
   - 使用 Yoneda 引理，构造态射 $f \multimap C$ 和 $A \multimap h$，并验证其自然性。
   - 利用闭单元范畴的定义，确保这些态射保持同构关系的一致性。

---

### 总结

**单元范畴（Monoidal Categories）**和**闭单元范畴（Closed Monoidal Categories）**在范畴论中提供了一种强大的结构化方法，用于处理对象和态射之间复杂的二元运算关系。这些结构在多个数学和计算机科学领域中有广泛的应用，如并行计算、函数式编程语言的语义模型以及逻辑系统的建模。

**关键点回顾**：

- **单元范畴的结构**：通过引入二元运算 $\otimes$ 和单位对象 $I$，并通过自然同构 $\alpha$、$\lambda$、$\rho$ 确保运算的结合性和单位元性。
- **闭单元范畴的扩展**：通过引入内部同态对象 $A \multimap C$，使得范畴内部能够处理更复杂的函数和映射关系，实现了函子柯里化的性质。
- **具体例子**：
  - **集合范畴 $\text{Set}$**：通过笛卡尔积和单元素集合作为单位对象，形成一个严格的对称单元范畴。
  - **关系范畴 $\text{Rel}$**：通过特殊的单元积定义，形成一个闭单元范畴。
  - **上确界半格的范畴**：展示了如何在不同的范畴中实现闭单元结构。
  - **M-acts 的范畴**：通过 $M$-acts 的单元积和内部同态对象，构造出闭单元范畴。

通过对这些概念和例子的理解，你将能够在更高层次上应用范畴论的工具，处理复杂的逻辑和计算结构，为进一步探索范畴论的高级主题奠定坚实的基础。

---

### 参考文献

- [Mac Lane, 1971] Saunders Mac Lane. *Categories for the Working Mathematician*. Springer.
- [Asperti and Longo, 1991] Maurizio Asperti 和 Roberto Longo. *Logical Foundations of Computer Science*.
- [Corradini and Asperti, 1993] Alberto Corradini 和 Maurizio Asperti. *Category Theory for Computer Science*.
- [Marti Oliet and Meseguer, 1991] Martí Oliet 和 José Meseguer. *Monoidal Categories and Applications*.
- [Bartha, 1992] Péter Bartha. *The Semantics of Computation*.
- [Yoneda, 1950] Nobuo Yoneda. *On a General Theory of Extensible Systems*.

---

通过本节的学习，你应能理解**闭单元范畴**的基本定义、结构以及具体的例子。这不仅丰富了你的范畴论知识，也为你在数学和计算机科学中的进一步研究提供了强大的理论工具。

### ---------------------------

### 总览

在范畴论中，**$*$-自同构范畴（$*$-Autonomous Categories）**是一类具有丰富对偶性结构的闭单元范畴。它们在逻辑、计算机科学（尤其是线性逻辑和并行计算模型）以及其他数学领域中具有重要应用。**$*$-自同构范畴**通过引入对偶性函子和特定的自然同构，扩展了闭单元范畴的结构，使其能够更好地建模复杂的逻辑关系和计算过程。

本节将详细探讨$*$-自同构范畴的定义、性质、具体例子以及相关习题，帮助你深入理解这一重要概念。

---

### 16.3 $*$-自同构范畴（$*$-Autonomous Categories）

#### 16.3.1 定义（Definition）

**定义**：

设 $\mathcal{C}$ 是一个**对称闭单元范畴**（Symmetric Monoidal Closed Category）。一个函子 $(-)^* : \mathcal{C}^{op} \to \mathcal{C}$ 被称为**对偶性函子**（Duality Functor），如果存在一个自然同构：

$$
d(A, B) : A \multimap B \cong B^* \multimap A^*
$$

该同构对于所有对象 $A$ 和 $B$ 都是自然的，并且满足以下条件：对于所有对象 $A$、$B$ 和 $C$，下列图形必须交换：

$$
\begin{array}{ccc}
(B^* \multimap A^*) \otimes (C^* \multimap B^*) & \xrightarrow{c(C^*, B^*, A^*)} & C^* \multimap A^* \\
\downarrow{d(A, B) \otimes d(B, C)} & & \downarrow{d(A, C)} \\
(A \multimap B) \otimes (B \multimap C) & \xrightarrow{s} & A \multimap C
\end{array}
$$

其中，$s = s(A \multimap B, B \multimap C)$ 是对称自然同构。

**$*$-自同构范畴**（$*$-Autonomous Category）定义为一个对称闭单元范畴，配备了一个满足上述条件的对偶性函子。

**通俗解释**：

- **对偶性函子 $(-)^*$**：这是一个将对象映射到其“对偶”对象的函子。对偶性在逻辑和物理中经常出现，表示某种“反转”或“镜像”关系。
  
- **自然同构 $d(A, B)$**：这个同构将内部同态对象 $A \multimap B$ 映射到 $B^* \multimap A^*$，体现了对偶性的对称性。

- **交换图的可交换性**：这一条件确保了对偶性函子在多对象组合中的一致性，类似于逻辑中的蕴涵链规则，即如果 $A \rightarrow B$ 且 $B \rightarrow C$，那么 $A \rightarrow C$。

#### 16.3.2 $*$-自同构范畴的性质（Properties of $*$-Autonomous Categories）

**冗余数据**：

在$*$-自同构范畴中，所需的数据存在一定的冗余。具体来说：

- 单元积 $\otimes$ 和内部同态对象 $\multimap$ 之间存在如下关系：
  
  $$
  A \otimes B \cong (A \multimap B^*)^*
  $$
  
  $$
  A \multimap B \cong (A \otimes B^*)^*
  $$
  
  这意味着只需要给定$\otimes$ 或 $\multimap$ 其中之一，加上对偶性函子 $(-)^*$，就可以推导出另一个结构。

- **第二个单元积结构 $\oplus$**：

  在$*$-自同构范畴中，还存在第二种单元积结构，记为 $\oplus$，定义为：

  $$
  A \oplus B = (A^* \otimes B^*)^*
  $$
  
  其单位对象为 $\bot = I^*$，其中 $I$ 是原单元积的单位对象。

**性质总结**：

- **对偶性关系**：通过对偶性函子，可以在两个单元积结构之间建立紧密联系。
  
- **函数空间的对称性**：内部同态对象在对偶性函子的作用下，展示了深刻的对称性和结合性。

- **自然同构的作用**：自然同构 $d(A, B)$ 确保了多个层面的结构一致性，使得范畴内部的运算和映射保持稳定和协调。

**具体解释**：

- **单元积与内部同态对象的关系**：由于 $\otimes$ 和 $\multimap$ 之间存在对偶性关系，这使得范畴中的态射和对象之间的关系更加紧密和对称。

- **第二种单元积 $\oplus$**：$\oplus$ 作为 $\otimes$ 的一种对偶结构，提供了另一种方式来组合对象，并在逻辑中对应于“或”操作。

#### 16.3.3 例子（Example）

**例子**：

**关系范畴 $\text{Rel}$** 是一个$*$-自同构范畴。

**具体说明**：

- **对象**：集合。
  
- **态射**：关系，即 $S \to T$ 是集合 $S \times T$ 的子集。
  
- **单元积 $\otimes$**：在 $\text{Rel}$ 中，单元积并不是集合范畴中的笛卡尔积，而是通过某种特定的关系组合方式定义的运算。通常，单元积 $S \otimes T$ 被定义为 $S \times T$ 的某种形式的组合，例如通过关系的合成或其他方式。
  
- **对偶性函子 $(-)^*$**：在 $\text{Rel}$ 中，可以令每个对象 $S$ 自身作为其对偶对象，即 $S^* = S$。因此，对于任意两个集合 $S$ 和 $T$，内部同态对象 $S \multimap T$ 等于 $S \otimes T$。

**验证**：

- **对偶性自然同构**：

  $$
  S \multimap T \cong T^* \multimap S^* \quad \text{即} \quad S \otimes T \cong T \otimes S
  $$
  
  由于 $\text{Rel}$ 是对称单元范畴，单元积 $\otimes$ 满足交换律，因此上述同构成立。

- **图形交换**：

  在 $\text{Rel}$ 中，通过关系的合成和交换，可以验证结合自然同构和对偶性自然同构满足$*$-自同构范畴的条件。

**通俗解释**：

- **关系范畴中的对偶性**：由于每个集合自身即为其对偶对象，$\text{Rel}$ 中的对偶性结构非常对称和简洁。
  
- **单元积的对称性**：通过对称性，自然同构 $S \otimes T \cong T \otimes S$ 自动满足闭单元范畴的对偶性要求。

- **紧密的对偶性结构**：$\text{Rel}$ 中的态射既可以视为从 $S \otimes T$ 到某个集合的关系，也可以视为从 $T$ 到 $S \otimes U$ 的关系，体现了$*$-自同构范畴中的对偶性和结合性。

**进一步说明**：

- **紧凑型$*$-自同构范畴**：$\text{Rel}$ 是一个紧凑型$*$-自同构范畴，这意味着对于所有对象 $A$ 和 $B$，有：

  $$
  A \multimap B \cong A^* \otimes B
  $$
  
  由于 $A^* = A$，即：

  $$
  A \multimap B \cong A \otimes B
  $$
  
  这进一步简化了范畴的结构，使得对偶性和单元积之间的关系更加直接。

---

#### 16.3.4 习题（Exercises）

**习题1**：

**a. 证明有限上确界半格是格；即存在最大元，并且每对元素都有下确界。**

**提示**：

- 上确界半格（Sup Semilattice）中每对元素有上确界（即“或”）。
  
- 证明有限上确界半格中存在下确界（即“与”）。

**解答思路**：

1. **存在最大元**：有限上确界半格必有一个最大元（通常记为 $1$ 或 $\top$），因为有限个上确界可以生成所有元素的上界。
  
2. **存在下确界**：对于任意两个元素 $a$ 和 $b$，定义其下确界为 $(a \vee b)^*$，其中 $*$ 表示补集或其他对偶操作。由于范畴中是有限的，可以通过双运算定义下确界。

**b. 证明如果 $f : L \to M$ 是有限上确界半格的上确界保持映射，且 $g : M \to L$ 定义为 $g(y) = \bigwedge \{x \mid f(x) \leq y\}$，则 $g$ 保持下确界。**

**提示**：

- 利用 $f$ 保持上确界的性质，证明 $g$ 保持下确界。
  
- 使用映射的定义和半格的性质。

**解答思路**：

1. **证明 $g$ 保持下确界**：
  
   - 对于任意有限集合 $\{y_i\} \subseteq M$，证明 $g(\bigwedge y_i) = \bigwedge g(y_i)$。
  
2. **利用 $f$ 的上确界保持性**：
  
   - 由于 $f$ 保持上确界，可以通过映射 $g$ 的定义和半格性质推导出保持下确界。

**c. 对于半格 $L$，令 $L^{op}$ 表示同一集合但将 $\leq$ 的方向反转。前述证明表明，如果 $L$ 是有限半格，则 $L^{op}$ 也是有限半格。证明当 $L$ 是有限半格时，设 $L^* = L^{op}$，则有限半格的范畴是一个$*$-自同构范畴。**

**提示**：

- 使用前两部分的结果，构造 $*$-自同构范畴的对偶性函子。
  
- 验证定义中所需的自然同构和一致性条件。

**解答思路**：

1. **设 $L^* = L^{op}$**，证明 $L$-acts 范畴满足$*$-自同构范畴的定义。
  
2. **验证对偶性自然同构**：

   - 构造 $d(A, B) : A \multimap B \cong B^* \multimap A^*$，即 $A \multimap B \cong B^{op} \multimap A^{op}$。

3. **验证交换图的可交换性**：

   - 利用有限半格的性质，证明在所有对象 $A$、$B$、$C$ 上，交换图 $MC-5$ 和 $MC-6$ 以及对偶性条件的图形均可交换。

**总结**：

通过这些习题，你将深入理解$*$-自同构范畴的结构和性质，特别是在有限半格范畴中的应用。这些练习帮助巩固对闭单元范畴、对偶性函子以及$*$-自同构范畴定义的理解。

---

### 总结

**$*$-自同构范畴（$*$-Autonomous Categories）**是在对称闭单元范畴的基础上，通过引入对偶性函子和特定的自然同构，构建出一种具有深刻对偶性结构的范畴。这类范畴不仅在理论上具有重要意义，还在逻辑和计算机科学中提供了强大的建模工具，尤其是在处理线性逻辑和并行计算模型时。

**关键点回顾**：

- **对偶性函子**：通过函子 $(-)^*$，实现对象之间的对偶关系，增强了范畴的对称性和结构丰富性。
  
- **自然同构**：通过 $d(A, B)$ 等自然同构，确保了范畴内部结构的稳定性和一致性，满足$*$-自同构范畴的定义条件。
  
- **具体例子**：关系范畴 $\text{Rel}$ 是一个典型的$*$-自同构范畴，通过自同构函子和对称单元积，展示了$*$-自同构范畴的实际应用和结构特点。
  
- **习题与应用**：通过习题和具体构造，进一步理解$*$-自同构范畴的性质和在不同范畴中的实现方法，特别是在有限半格范畴中的应用。

通过对$*$-自同构范畴的学习，你不仅掌握了这一范畴结构的理论基础，还理解了其在逻辑和计算模型中的实际应用。这为进一步探索范畴论在复杂系统建模和逻辑推理中的应用奠定了坚实的基础。

---

### 参考文献

- [Barr, 1979] Michael Barr. *The Theory of *-Autonomous Categories*.
- [Barr, 1995] Michael Barr. *Categories and Foundations*.
- [Barr, 1996a] Michael Barr. *Linear Logic and *-Autonomous Categories*.
- [Barr, 1991] Michael Barr. *Linear Logic Models*.
- [Girard, Taylor and Lafont, 1989] Jean-Yves Girard, Paul Taylor, and Yves Lafont. *Linear Logic*.
- [Asperti and Longo, 1991] Maurizio Asperti 和 Roberto Longo. *Linear Logic and Category Theory*.
- [Pavlović and Abramsky, 1997] Vladimir Pavlović 和 Samson Abramsky. *Models of Concurrent Computation*.

---

通过本节的学习，你应能理解**$*$-自同构范畴**的基本定义、结构及其在逻辑和计算机科学中的重要应用。这不仅丰富了你的范畴论知识，也为你在相关领域中的进一步研究提供了强大的理论工具。

### ----------------------------

### 总览

**Chu 构造**是范畴论中的一个重要构造方法，由**Chu**在1978年和1979年提出。该构造以一个对称闭单元范畴（Symmetric Monoidal Closed Category）和其中的一个固定对象作为对偶化对象（Dualizing Object）为起点，生成一个新的$*$-自同构范畴（$*$-Autonomous Category）。$*$-自同构范畴在逻辑、计算机科学（尤其是线性逻辑和并行计算模型）以及其他数学领域中有着广泛的应用。

本节将详细介绍**Chu 构造**的定义、步骤、性质及其具体例子，帮助你深入理解这一重要的范畴论构造方法。

---

### 16.4 Chu 构造（The Chu Construction）

#### 16.4.1 定义（Definition）

**Chu 构造**的基本思想是从一个对称闭单元范畴 $\mathcal{V}$ 和其中的一个固定对象 $D$ 出发，构建一个新的范畴 $\text{Chu}(\mathcal{V}, D)$，这个新范畴是一个$*$-自同构范畴，并且与原范畴 $\mathcal{V}$ 密切相关。

**具体步骤如下**：

1. **起始数据**：
   - 选择一个对称闭单元范畴 $\mathcal{V}$。
   - 选择 $\mathcal{V}$ 中的一个固定对象 $D$，称为**对偶化对象**（Dualizing Object）。

2. **构造对象**：
   - 范畴 $\text{Chu}(\mathcal{V}, D)$ 的对象是三元组 $(A, A^0, \langle -, - \rangle)$，其中：
     - $A$ 和 $A^0$ 是 $\mathcal{V}$ 中的对象。
     - $\langle -, - \rangle : A \otimes A^0 \to D$ 是 $\mathcal{V}$ 中的一个态射，称为**配对态射**（Pairing）。

   - 通常简写为 $(A, A^0)$，其中配对态射 $\langle -, - \rangle$ 被隐含地记在心中。

3. **构造态射**：
   - 范畴 $\text{Chu}(\mathcal{V}, D)$ 中的态射 $(f, f^0) : (A, A^0) \to (B, B^0)$ 由两个态射 $f: A \to B$ 和 $f^0: B^0 \to A^0$ 组成，需满足以下交换图：

     $$
     \begin{array}{ccc}
     A \otimes A^0 & \xrightarrow{f \otimes A^0} & B \otimes A^0 \\
     \downarrow{\langle -, - \rangle_A} & & \downarrow{\langle f, - \rangle_B} \\
     D & = & D
     \end{array}
     $$

     这表示态射 $f \otimes A^0$ 与 $f^0$ 的作用必须使得配对态射保持一致。

   - 换句话说，态射 $(f, f^0)$ 必须满足：

     $$
     \langle f(a), a^0 \rangle_B = \langle a, f^0(a^0) \rangle_A \quad \forall a \in A, a^0 \in A^0
     $$

4. **构造新的范畴结构**：
   - **同态对象**：
     - 对于任意两个对象 $(A, A^0)$ 和 $(B, B^0)$，定义其同态对象 $\text{Chu}(\mathcal{V}, D)((A, A^0), (B, B^0))$ 为满足上述条件的态射对 $(f, f^0)$。

   - **配对关系的保持**：
     - 通过确保态射对 $(f, f^0)$ 使得配对态射在映射下保持一致，构造出新的范畴结构。

5. **引入对偶性**：
   - 对于每个对象 $(A, A^0)$，定义其对偶对象为 $(A^0, A)$，记作 $(A, A^0)^*$。
   - 这样，$*$-自同构范畴中的对偶性函子自然地通过交换对象的位置来实现。

6. **定义单元积和内部同态**：
   - **单元积** $\otimes$：
     - 对于对象 $(A, A^0)$ 和 $(B, B^0)$，定义它们的单元积为：

       $$
       (A, A^0) \otimes (B, B^0) = (A \otimes B, \text{Hom}(A, D) \otimes B^0)
       $$

     - 具体构造中，使用原范畴 $\mathcal{V}$ 的单元积和同态对象的结构。

   - **内部同态** $\multimap$：
     - 对于对象 $(A, A^0)$ 和 $(B, B^0)$，定义其内部同态为：

       $$
       (A, A^0) \multimap (B, B^0) = (\text{Hom}(A, B), \text{Hom}(B^0, A^0))
       $$

     - 这种定义利用了原范畴 $\mathcal{V}$ 中的同态对象和对偶性函子。

#### 16.4.2 分离和外延的 Chu 对象（Separated and Extensional Chu Objects）

**分离性**和**外延性**是 Chu 构造中两个重要的概念，用于描述对象的特定性质。

1. **分离性（Separatedness）**：
   - 一个 Chu 对象 $(A, A^0)$ 被称为**分离的**（Separated），如果配对态射 $\langle -, - \rangle_A : A \otimes A^0 \to D$ 属于指定的**因子化系统** $E/M$ 中的某一类（通常是左类 $E$）。
   - **通俗解释**：分离性意味着通过配对态射 $\langle -, - \rangle_A$，对象 $A$ 有足够的“描述”来区分其内部元素。

2. **外延性（Extensionality）**：
   - 一个 Chu 对象 $(A, A^0)$ 被称为**外延的**（Extensional），如果配对态射 $\langle -, - \rangle_A : A \otimes A^0 \to D$ 属于因子化系统 $E/M$ 中的另一类（通常是右类 $M$）。
   - **通俗解释**：外延性意味着通过配对态射 $\langle -, - \rangle_A$，不同的映射在所有元素上具有相同的行为时，它们在范畴中被视为相同。

3. **全子范畴**：
   - **分离子范畴** $\text{Chus}(\mathcal{V}, D)$：由所有分离的 Chu 对象组成的全子范畴。
   - **外延子范畴** $\text{Chue}(\mathcal{V}, D)$：由所有外延的 Chu 对象组成的全子范畴。
   - **同时分离和外延的子范畴** $\text{chu}(\mathcal{V}, D)$：由同时分离和外延的 Chu 对象组成的全子范畴。此范畴是自对偶的（Self-Dual），即 $\text{chu}(\mathcal{V}, D)$ 自身与其对偶范畴同构。

**重要条件**：
- **因子化系统 $E/M$** 满足以下条件：
  - **FC-1**：每个 $E$ 中的态射都是一个**伪射**（Epimorphism）。
  - **FC-2**：如果 $m \in M$，则对于任意对象 $A$，函子 $A \multimap m$ 也是 $M$ 中的态射。

这些条件确保了分离性和外延性在构造过程中能够保持稳定。

#### 16.4.3 例子（Example）

**例子1：Chu(Set, 2)**

- **范畴 $\text{Chu}(\text{Set}, 2)$**：
  - **对象**：由三元组 $(S, S^0, \langle -, - \rangle)$ 组成，其中 $S$ 和 $S^0$ 是集合，配对态射 $\langle s, s^0 \rangle$ 是 $S \times S^0$ 到布尔集 $2 = \{0, 1\}$ 的映射。通常，配对态射可以看作是关系 $\alpha \subseteq S \times S^0$。
  
  - **态射**：$(f, f^0) : (S, S^0) \to (T, T^0)$ 是两个函数 $f: S \to T$ 和 $f^0: T^0 \to S^0$，满足关系的保持条件，即：
    $$
    (s, s^0) \in \alpha \iff (f(s), f^0(s^0)) \in \beta
    $$
    其中 $\alpha \subseteq S \times S^0$ 和 $\beta \subseteq T \times T^0$ 是对应的关系。

- **分离性和外延性**：
  - **分离对象**：对于任意两个不同的元素 $s_1, s_2 \in S$，存在 $s^0 \in S^0$，使得 $\langle s_1, s^0 \rangle = 1$ 且 $\langle s_2, s^0 \rangle = 0$ 或反之。
  - **外延对象**：如果两个关系 $f, g : S \to T$ 满足对于所有 $s \in S$，$f(s) = g(s)$，则 $f = g$。

- **连接与拓扑**：
  - 这样的结构类似于拓扑空间中的分离性（T1空间），其中集合 $S^0$ 可以看作是开集或闭集的集合，用于区分 $S$ 中的不同元素。

**例子2：有限维向量空间的范畴**

- **范畴 $\text{Chu}(\mathcal{V}, F)$**，其中 $\mathcal{V}$ 是有限维向量空间的范畴，且 $F$ 是一个域。
  - **对象**：由三元组 $(V, V^0, \langle -, - \rangle)$ 组成，其中 $V$ 和 $V^0$ 是有限维向量空间，配对态射 $\langle -, - \rangle$ 是双线性映射 $V \times V^0 \to F$。
  
  - **对偶性**：
    - 设 $V^*$ 表示 $V$ 的对偶空间，即所有从 $V$ 到 $F$ 的线性映射。
    - 通过对偶性函子 $(-)^*$，可以得到 $(V, V^0)^* = (V^0, V)$。
  
  - **闭单元结构**：
    - 内部同态对象 $V \multimap W$ 通常为从 $V$ 到 $W$ 的线性变换空间。
    - 由于有限维向量空间具有良好的对偶性和闭性，范畴 $\text{Chu}(\mathcal{V}, F)$ 自然地成为一个$*$-自同构范畴。

- **紧凑$*$-自同构范畴**（Compact $*$-Autonomous Category）：
  - 在这种范畴中，内部同态对象与单元积的关系满足 $A \multimap B \cong A^* \otimes B$，即 $A \multimap B$ 等价于 $A^* \otimes B$。

**其他例子**：
- **Chu 构造在其他范畴中的应用**：例如在计算机科学中，用于建模并行计算过程、Petri 网和事件结构等。

---

#### 16.4.4 分离外延子范畴的$*$-自同构结构

在 Chu 构造中，通过选取满足分离性和外延性的对象，可以构造出一个新的$*$-自同构范畴 $\text{chu}(\mathcal{V}, D)$。这个子范畴不仅保留了原范畴的结构，还增强了对偶性和闭性的特性。

**构造过程**：

1. **选择分离和外延的对象**：
   - 只选择那些既是分离的又是外延的 Chu 对象，形成子范畴 $\text{chu}(\mathcal{V}, D)$。

2. **验证$*$-自同构性**：
   - 通过验证这些对象和态射满足$*$-自同构范畴的所有条件，确保新的子范畴 $\text{chu}(\mathcal{V}, D)$ 具有$*$-自同构结构。

3. **自对偶性**：
   - $\text{chu}(\mathcal{V}, D)$ 是自对偶的，即 $\text{chu}(\mathcal{V}, D)$ 自身与其对偶范畴同构。这意味着每个对象 $(A, A^0)$ 的对偶对象 $(A^0, A)$ 也在 $\text{chu}(\mathcal{V}, D)$ 中。

**关键条件**：

- **因子化系统的性质**：
  - 因子化系统 $E/M$ 必须满足 **FC-1** 和 **FC-2**，确保分离性和外延性在构造过程中能够稳定保持。
  
- **单元对象的条件**：
  - 单元对象 $I$ 必须属于分离子范畴 $\text{Chus}(\mathcal{V}, D)$。

**结果**：

在满足上述条件的情况下，子范畴 $\text{chu}(\mathcal{V}, D)$ 将成为一个$*$-自同构范畴。这一结果为 Chu 构造提供了一个强大的工具，用于从原始范畴中生成具有丰富对偶性结构的新范畴。

---

#### 16.4.5 习题（Exercises）

**习题1**：

**a. 证明有限上确界半格是格，即存在最大元，并且每对元素都有下确界。**

**提示**：
- 上确界半格（Sup Semilattice）中每对元素有上确界（即“∨”）。
- 在有限情况下，通过定义最大元和利用有限性，可以推导出每对元素都有下确界（即“∧”）。

**解答思路**：
1. **存在最大元**：
   - 在有限上确界半格中，可以取所有元素的上确界作为最大元。
   
2. **存在下确界**：
   - 对于任意两个元素 $a$ 和 $b$，定义它们的下确界 $a \wedge b$ 为满足 $a \wedge b \leq a$ 且 $a \wedge b \leq b$ 的最大元素。

**b. 证明如果 $f : L \to M$ 是有限上确界半格的上确界保持映射，且 $g : M \to L$ 定义为 $g(y) = \bigwedge \{x \mid f(x) \leq y\}$，则 $g$ 保持下确界。**

**提示**：
- 利用 $f$ 保持上确界的性质，结合定义，证明 $g$ 保持下确界。

**解答思路**：
1. **保持下确界**：
   - 对于任意有限集合 $\{y_i\} \subseteq M$，证明 $g(\bigwedge y_i) = \bigwedge g(y_i)$。
   
2. **利用映射性质**：
   - 由于 $f$ 保持上确界，可以通过 $g$ 的定义和半格的性质推导出 $g$ 保持下确界。

**c. 对于半格 $L$，令 $L^{op}$ 表示同一集合但将 $\leq$ 的方向反转。前述证明表明，如果 $L$ 是有限半格，则 $L^{op}$ 也是有限半格。证明当 $L$ 是有限半格时，设 $L^* = L^{op}$，则有限半格的范畴是一个$*$-自同构范畴。**

**提示**：
- 使用前两部分的结果，构造$*$-自同构范畴的对偶性函子。
- 验证定义中所需的自然同构和一致性条件。

**解答思路**：
1. **设定对偶性函子**：
   - 定义 $L^* = L^{op}$，即将有限半格中的顺序关系反转。

2. **构造自然同构**：
   - 构造 $d(A, B) : A \multimap B \cong B^* \multimap A^*$，即 $A \multimap B \cong B^{op} \multimap A^{op}$。

3. **验证一致性条件**：
   - 通过有限半格的性质，证明在所有对象 $A, B, C$ 上，交换图 $MC-5$ 和 $MC-6$ 以及对偶性条件的图形均可交换。

**总结**：
通过这些习题，你将深入理解$*$-自同构范畴的结构和性质，特别是在有限半格范畴中的应用。这些练习帮助巩固对闭单元范畴、对偶性函子以及$*$-自同构范畴定义的理解。

---

### 总结

**Chu 构造**是范畴论中一个强大的工具，通过从一个对称闭单元范畴和一个固定的对偶化对象出发，构造出一个新的$*$-自同构范畴。这一构造不仅保留了原始范畴的结构，还通过引入对偶性函子和配对态射，增强了范畴的对称性和闭性，使其能够更好地建模复杂的逻辑关系和计算过程。

**关键点回顾**：

- **Chu 构造的基本步骤**：从对称闭单元范畴 $\mathcal{V}$ 和对偶化对象 $D$ 出发，构造出包含配对态射的对象和满足配对条件的态射对，形成新的范畴 $\text{Chu}(\mathcal{V}, D)$。

- **分离性和外延性**：通过引入因子化系统 $E/M$，定义分离和外延的 Chu 对象，构造出满足$*$-自同构条件的子范畴 $\text{chu}(\mathcal{V}, D)$。

- **具体例子**：
  - **Chu(Set, 2)**：展示了如何在集合范畴中应用 Chu 构造，构建出类似拓扑空间的结构。
  - **有限维向量空间的范畴**：展示了如何在向量空间范畴中应用 Chu 构造，生成一个紧凑$*$-自同构范畴。

- **习题与应用**：通过习题加深对 Chu 构造及其性质的理解，特别是在有限半格范畴中的应用，巩固对范畴论中对偶性和闭性结构的掌握。

通过对 Chu 构造的学习，你不仅掌握了这一范畴论构造方法的理论基础，还理解了其在逻辑和计算模型中的实际应用。这为进一步探索范畴论在复杂系统建模和逻辑推理中的应用奠定了坚实的基础。

---

### 参考文献

- [Barr, 1979] Michael Barr. *The Theory of *-Autonomous Categories*.
- [Barr, 1995] Michael Barr. *Categories and Foundations*.
- [Barr, 1996a] Michael Barr. *Linear Logic and *-Autonomous Categories*.
- [Barr, 1991] Michael Barr. *Linear Logic Models*.
- [Girard, Taylor and Lafont, 1989] Jean-Yves Girard, Paul Taylor, 和 Yves Lafont. *Linear Logic*.
- [Asperti and Longo, 1991] Maurizio Asperti 和 Roberto Longo. *Linear Logic and Category Theory*.
- [Pavlović and Abramsky, 1997] Vladimir Pavlović 和 Samson Abramsky. *Models of Concurrent Computation*.
- [Chu, 1978; 1979] Po-Hsiang Chu. *A General Framework for Linear Logic*.

---

通过本节的学习，你应能理解**Chu 构造**的基本定义、构造步骤以及其在逻辑和计算机科学中的重要应用。这不仅丰富了你的范畴论知识，也为你在相关领域中的进一步研究提供了强大的理论工具。

### ---------------------------



### ----------------------------



### ---------------------------



### ----------------------------



### ---------------------------



### ----------------------------



### ---------------------------



### ----------------------------
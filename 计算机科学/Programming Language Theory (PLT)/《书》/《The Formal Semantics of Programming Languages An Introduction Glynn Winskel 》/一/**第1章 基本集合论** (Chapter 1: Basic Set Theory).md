[toc]



# 第1章 基础集合论

本章介绍我们将用于描述和推理概念的非形式、逻辑和集合论符号和概念。它只是对我们日常语言的扩展，以便讨论诸如集合等数学对象。请注意，它不应与编程语言的形式语言或我们稍后将遇到的关于它们的形式断言相混淆。

本章旨在作为回顾和供将来参考。建议在初次阅读时，可以快速浏览，而不必试图完全吸收所有内容。然而，作为初学者，我们将一步一步地详细解释每个概念，确保你对基础知识有全面的理解。

## 1.1 逻辑符号

在数学陈述中，为了避免语句过于冗长，我们常常使用一些非形式的逻辑符号。对于陈述（或断言）$A$和$B$，我们通常使用以下缩写：

- **$A\ \&\ B$**：表示“$A$和$B$”（即$A$与$B$的合取）。
- **$A\Rightarrow B$**：表示“$A$蕴涵$B$”，意思是“如果$A$为真，则$B$也为真”。
- **$A\Leftrightarrow B$**：表示“$A$当且仅当$B$”（即$A$与$B$的逻辑等价）。

此外，我们还使用以下逻辑连接词：

- **析取（或）**：表示为“$A$或$B$”，记作“$A$ or $B$”，其含义是$A$、$B$至少有一个为真。
- **否定（非）**：表示为“非$A$”，记作“$\text{not }A$”或“$\neg A$”，其含义是$A$为假。

有一个传统是，例如，我们写$7\nless 5$而不是$\neg(7<5)$，这反映了我们通常的表达方式：“7不小于5”而不是“非7小于5”。

### **带有变量的陈述**

陈述中可能包含变量（或未知数、占位符），例如：

$$
(x\leq 3)\ \&\ (y\leq 7)
$$

当变量$x$和$y$代表特定的整数且分别满足$x\leq 3$和$y\leq 7$时，上述陈述为真，否则为假。

像$P(x, y)$这样的陈述，包含变量$x$和$y$，称为**谓词（predicate）**（或属性、关系、条件）。只有当$x$和$y$取特定值时，谓词才能被判定为真或假。

### **逻辑量词**

我们使用逻辑量词来更精确地表达数学陈述：

- **存在量词**：$\exists$，读作“存在”，用于表示“存在某个满足条件的元素”。
- **全称量词**：$\forall$，读作“对于所有”，用于表示“对于所有满足条件的元素”。

例如：

- **$\exists x.\ P(x)$**：表示“存在$x$使得$P(x)$为真”，即“有某个$x$满足$P(x)$”。
- **$\forall x.\ P(x)$**：表示“对于所有$x$，$P(x)$为真”，即“任何$x$都满足$P(x)$”。

当我们有多个变量时，可以写：

- **$\exists x, y, \dots, z.\ P(x, y, \dots, z)$**：这是$\exists x\exists y\cdots\exists z.\ P(x, y, \dots, z)$的缩写，表示“存在$x$、$y$、...、$z$使得$P(x, y, \dots, z)$为真”。
- **$\forall x, y, \dots, z.\ P(x, y, \dots, z)$**：这是$\forall x\forall y\cdots\forall z.\ P(x, y, \dots, z)$的缩写，表示“对于所有$x$、$y$、...、$z$，$P(x, y, \dots, z)$为真”。

#### **限定量词的范围**

有时候，我们希望限定量词作用的范围，例如限定$x$属于某个集合$X$。此时，我们可以写：

- **$\forall x\in X.\ P(x)$**：表示“对于所有$x$属于$X$，$P(x)$为真”。这等价于$\forall x.\ x\in X\Rightarrow P(x)$。
- **$\exists x\in X.\ P(x)$**：表示“存在$x$属于$X$，使得$P(x)$为真”。这等价于$\exists x.\ x\in X\ \&\ P(x)$。

#### **唯一存在量词**

有时，我们不仅想表达“存在某个$x$满足$P(x)$”，还想强调这样的$x$是**唯一的**。为此，我们使用**唯一存在量词**，记作$\exists!$。定义如下：

- **$\exists! x.\ P(x)$**：表示“存在唯一的$x$使得$P(x)$为真”。这可以写作：

$$
(\exists x.\ P(x))\ \&\ (\forall y, z.\ P(y)\ \&\ P(z)\Rightarrow y = z)
$$

这意味着不仅存在一个$x$使得$P(x)$为真，而且任何满足$P(x)$的$y$和$z$都必须相等，即这样的$x$是唯一的。

---

## 1.2 集合

### **集合的基本概念**

**集合（set）**是一些对象的**无序**集合，这些对象称为集合的**元素（elements）**或**成员（members）**。如果元素$a$属于集合$X$，我们记作$a\in X$。

我们有时会用花括号列出集合的元素，例如：$\{a, b, c, \dots\}$表示包含元素$a$、$b$、$c$等的集合。

### **子集**

集合$X$是集合$Y$的**子集（subset）**，记作$X\subseteq Y$，当且仅当$X$的每个元素都是$Y$的元素，即：

$$
X\subseteq Y\ \Leftrightarrow\ \forall z\in X.\ z\in Y
$$

### **集合的相等性**

集合仅由其元素决定，也就是说，如果两个集合有相同的元素，则它们是**相等的**，记作$X=Y$。形式化地，集合$X$和$Y$相等，当且仅当$X$的每个元素都是$Y$的元素，且$Y$的每个元素也是$X$的元素。这等价于证明$X\subseteq Y$且$Y\subseteq X$。

---

### **1.2.1 集合与属性**

有时，一个集合可以由一个**属性（property）**来确定，意思是集合的元素正好是满足某个条件的对象。我们写作：

$$
X = \{x\ |\ P(x)\}
$$

表示集合$X$的元素正是那些使得$P(x)$为真的$x$。

#### **“任何属性都确定一个集合”的问题**

在集合论发展的初期，人们认为任何属性$P(x)$都可以确定一个集合$\{x\ |\ P(x)\}$。然而，这种观点导致了**悖论（paradox）**，最著名的就是**罗素悖论（Russell's Paradox）**。

##### **罗素悖论**

考虑属性$x\notin x$，表示“$x$不是它自身的元素”。如果我们假设任何属性都可以确定一个集合，那么我们可以构造集合：

$$
R = \{x\ |\ x\notin x\}
$$

现在，问$R$是否属于自身：

- 如果$R\in R$，根据集合$R$的定义，我们有$R\notin R$，矛盾。
- 如果$R\notin R$，根据定义，我们有$R\in R$，再次矛盾。

因此，假设任何属性都可以确定一个集合会导致矛盾。为了解决这个问题，需要对集合的构造方式进行限制，避免出现这样的悖论。这意味着我们不能任意地根据属性来构造集合，而是需要遵循特定、安全的规则，从已有的集合中构造新集合。

---

### **1.2.2 一些重要的集合**

我们默认以下集合的存在：

- **空集（empty set）**：记作$\emptyset$，它不包含任何元素。
- **自然数集合**：记作$\omega$，表示自然数$0, 1, 2, \dots$的集合。

此外，我们还假设一些基本符号的集合，例如：

$$
\{"a", "b", "c", "d", "e", \dots, "z"\}
$$

这些符号的等同性由**语法同一性（syntactic identity）**决定，即两个符号相等当且仅当它们完全相同。

---

### **1.2.3 集合的构造方法**

为了从已有的集合构造新集合，我们采用以下操作：

#### **（1）理解公理（Comprehension Axiom）**

如果$X$是一个集合，且$P(x)$是一个属性，那么我们可以构造集合：

$$
\{x\in X\ |\ P(x)\}
$$

这表示从$X$中选取所有满足$P(x)$的元素，形成一个新的子集。

有时，我们使用进一步的缩写。如果$e(x_1, \dots, x_n)$是一个表达式，$P(x_1, \dots, x_n)$是一个关于$x_1, \dots, x_n$的属性，那么：

$$
\{e(x_1, \dots, x_n)\ |\ x_1\in X_1,\ \dots,\ x_n\in X_n,\ P(x_1, \dots, x_n)\}
$$

表示所有满足$P(x_1, \dots, x_n)$的$x_1, \dots, x_n$，经过$e$的映射后的集合。

**示例**：

$$
\{2m + 1\ |\ m\in \omega,\ m > 1\}
$$

这是所有大于$3$的奇数的集合。

#### **（2）幂集（Powerset）**

给定集合$X$，其**幂集**是$X$的所有子集组成的集合，记作$\text{Pow}(X)$：

$$
\text{Pow}(X) = \{Y\ |\ Y\subseteq X\}
$$

#### **（3）索引集（Indexed Sets）**

如果$I$是一个集合，对于每个$i\in I$，都有一个唯一的对象$X_i$，那么：

$$
\{X_i\ |\ i\in I\}
$$

也是一个集合。元素$X_i$由索引$i$来标识。

#### **（4）并集（Union）**

集合$X$和$Y$的**并集**包含$X$或$Y$中的所有元素，记作$X\cup Y$：

$$
X\cup Y = \{a\ |\ a\in X\ \text{或}\ a\in Y\}
$$

##### **大并集**

如果$X$是一个集合的集合，即$X$的元素也是集合，那么它们的并集是：

$$
\bigcup X = \{a\ |\ \exists x\in X.\ a\in x\}
$$

当$X = \{X_i\ |\ i\in I\}$时，我们也写作$\bigcup X = \bigcup_{i\in I} X_i$。

#### **（5）交集（Intersection）**

集合$X$和$Y$的**交集**包含同时属于$X$和$Y$的元素，记作$X\cap Y$：

$$
X\cap Y = \{a\ |\ a\in X\ \text{且}\ a\in Y\}
$$

##### **大交集**

如果$X$是一个非空集合的集合，那么它们的交集是：

$$
\bigcap X = \{a\ |\ \forall x\in X.\ a\in x\}
$$

当$X = \{X_i\ |\ i\in I\}$且$I$非空时，我们也写作$\bigcap X = \bigcap_{i\in I} X_i$。

#### **（6）笛卡尔积（Product）**

给定两个元素$a$和$b$，它们的**有序对（ordered pair）**记作$(a, b)$。一种正式的定义方式是：

$$
(a, b) = \{\{a\}, \{a, b\}\}
$$

这种定义方式保证了：

$$
(a, b) = (a', b')\ \Leftrightarrow\ a = a'\ \text{且}\ b = b'
$$

即两个有序对相等，当且仅当对应的元素分别相等。

**练习 1.1**：验证上述有序对的定义确实满足上述性质。

**笛卡尔积**定义为：

$$
X \times Y = \{(a, b)\ |\ a\in X,\ b\in Y\}
$$

这表示所有由$X$中的元素和$Y$中的元素组成的有序对的集合。

对于三元组$(a, b, c)$，可以定义为$(a, (b, c))$，类似地，$X \times Y \times Z$表示所有三元组的集合。

#### **（7）不交并（Disjoint Union）**

有时，我们希望将多个集合合并，但不希望不同集合中的相同元素被视为相同。这时，我们使用不交并，通过给每个集合的元素添加标签，使它们彼此区分：

$$
X_0 \uplus X_1 \uplus \dots \uplus X_n = (\{0\}\times X_0) \cup (\{1\}\times X_1) \cup \dots \cup (\{n\}\times X_n)
$$

这样，来自不同集合的元素即使原本相同，由于标签不同，也被视为不同。

#### **（8）集合差（Set Difference）**

集合$X$与$Y$的差集$X\setminus Y$是$X$中不在$Y$中的元素组成的集合：

$$
X\setminus Y = \{x\ |\ x\in X\ \text{且}\ x\notin Y\}
$$

---

### **1.2.4 基础公理**

**基础公理（Axiom of Foundation）**是集合论中的一个重要原则。它的含义是，任何集合的元素要么是基本元素（如整数、符号），要么是由更早构造的集合。也就是说，不存在无穷下降的元素链：

$$
\cdots \in b_n \in \cdots \in b_1 \in b_0
$$

这种链必须在某个基本元素或空集处终止。

该公理的一个直接推论是，**没有集合是自身的元素**，即对于任何集合$X$，都有$X\notin X$。否则，我们将得到一个无限下降的链$X\in X\in X\in \dots$，这与基础公理矛盾。

---

## 1.3 关系与函数

### **关系**

**二元关系（binary relation）**是集合$X$和$Y$的笛卡尔积$X\times Y$的子集，即$R\subseteq X\times Y$。如果$(x, y)\in R$，我们也写作$xRy$。

### **函数**

#### **偏函数**

**偏函数（partial function）**是满足以下条件的关系$f\subseteq X\times Y$：

$$
\forall x, y, y'.\ ((x, y)\in f\ \&\ (x, y')\in f)\ \Rightarrow\ y = y'
$$

这意味着，对于$f$中的每个$x$，最多有一个对应的$y$。如果存在这样的$y$，我们记作$f(x) = y$，并称$f(x)$是**已定义的**；否则，称$f(x)$是**未定义的**。

我们可以写$f: X\rightarrow Y$表示从$X$到$Y$的偏函数。

#### **全函数**

如果偏函数$f$满足对于所有$x\in X$，都存在$y\in Y$使得$f(x) = y$，那么$f$是一个**全函数（total function）**。全函数的定义域是整个集合$X$。

**注意**：尽管全函数是偏函数的特例，但在传统上，我们通常将“函数”理解为全函数，除非特别说明为偏函数。

#### **函数的集合**

- 偏函数的集合记作$(X\rightarrow Y)$，表示所有从$X$到$Y$的偏函数的集合。
- 全函数的集合记作$(X\rightarrow Y)$，表示所有从$X$到$Y$的全函数的集合。

**练习 1.2**：证明当$X$和$Y$是集合时，$(X\rightarrow Y)$和$(X\rightarrow Y)$也是集合。

---

### **1.3.1 Lambda表示法**

**Lambda表示法（Lambda Notation）**提供了一种不必命名函数就能引用它们的方法。如果$f: X\rightarrow Y$是一个函数，对于每个$x\in X$，都有$f(x)$由表达式$e$确定，那么我们可以写：

$$
f = \lambda x\in X.\ e
$$

这表示函数$f$由映射$x\mapsto e$定义，其中$e$可能依赖于$x$。

例如，定义一个从自然数到自然数的后继函数：

$$
\lambda x\in \omega.\ x + 1
$$

---

### **1.3.2 关系和函数的合成**

给定$X$到$Y$的关系$R\subseteq X\times Y$和$Y$到$Z$的关系$S\subseteq Y\times Z$，它们的**合成（composition）**是$X$到$Z$的关系，定义为：

$$
S\circ R = \{(x, z)\in X\times Z\ |\ \exists y\in Y.\ (x, y)\in R\ \&\ (y, z)\in S\}
$$

对于函数$f: X\rightarrow Y$和$g: Y\rightarrow Z$，它们的合成是$g\circ f: X\rightarrow Z$，满足$g\circ f(x) = g(f(x))$。

**恒等函数（Identity Function）**在每个集合$X$上都存在，记作$\text{Id}_X$，定义为：

$$
\text{Id}_X = \{(x, x)\ |\ x\in X\}
$$

**练习 1.3**：证明关系的合成满足**结合律（associative law）**：

$$
T\circ (S\circ R) = (T\circ S)\circ R
$$

并且恒等函数在合成中起到**单位元（identity）**的作用：

$$
R\circ \text{Id}_X = \text{Id}_Y\circ R = R
$$

---

### **逆函数和双射**

一个函数$f: X\rightarrow Y$有**逆函数（inverse）**$g: Y\rightarrow X$，当且仅当对于所有$x\in X$和$y\in Y$，有：

$$
g(f(x)) = x,\quad f(g(y)) = y
$$

这意味着$f$是一个**双射（bijection）**，即$f$既是单射（injective，又是满射（surjective）。

如果一个集合$X$与自然数的某个子集$\omega$存在双射关系，则称$X$是**可数的（countable）**。

---

### **练习 1.4**

证明集合$(X\rightarrow \text{Pow}(Y))$（从$X$到$Y$的幂集的函数的集合）与关系的集合$\text{Pow}(X\times Y)$之间存在一一对应关系。

---

### **康托尔对角线论证**

19世纪末，集合论的先驱乔治·康托尔（Georg Cantor）提出了一种重要的论证方法，称为**对角线论证（diagonal argument）**，它在计算理论中经常出现。

康托尔使用对角线论证证明了对于任何集合$X$，$X$与其幂集$\text{Pow}(X)$之间不存在一一对应的关系。

**证明思路**：

假设存在一个双射$e: X\rightarrow \text{Pow}(X)$。我们构造集合：

$$
Y = \{x\in X\ |\ x\notin e(x)\}
$$

由于$Y$是$X$的子集，根据假设，存在$y\in X$使得$e(y) = Y$。现在考虑$y$是否属于$Y$：

- 如果$y\in Y$，则根据$Y$的定义，$y\notin e(y)$，即$y\notin Y$，矛盾。
- 如果$y\notin Y$，则$y\in e(y)$，即$y\in Y$，矛盾。

因此，我们的假设必须是错误的，即不存在$X$到$\text{Pow}(X)$的双射。

**对角线的直观解释**：

假设$X$可以列举为$x_0, x_1, x_2, \dots$，并且$e$的映射可以表示为一个表格，其中第$i$行对应$x_i$，第$j$列对应$e(x_j)$，表格中的值为$1$或$0$，表示$x_i$是否属于$e(x_j)$。

通过取对角线上的元素并逐位取反，我们构造了集合$Y$，这就是对角线论证的核心。

**练习 1.5**：证明对于任何集合$X$和包含至少两个元素的集合$Y$，$X$与从$X$到$Y$的函数集合$(X\rightarrow Y)$之间不存在一一对应关系。

---

### **1.3.3 关系的像与逆像**

对于关系$R: X\rightarrow Y$，我们可以定义：

- **像（Image）**：对于$A\subseteq X$，$R$在$A$上的像为：

$$
R A = \{y\in Y\ |\ \exists x\in A.\ (x, y)\in R\}
$$

- **逆像（Inverse Image）**：对于$B\subseteq Y$，$R$在$B$上的逆像为：

$$
R^{-1} B = \{x\in X\ |\ \exists y\in B.\ (x, y)\in R\}
$$

---

### **1.3.4 等价关系**

**等价关系（equivalence relation）**是满足以下条件的关系$R\subseteq X\times X$：

1. **自反性（reflexive）**：$\forall x\in X.\ xRx$
2. **对称性（symmetric）**：$\forall x, y\in X.\ xRy\ \Rightarrow\ yRx$
3. **传递性（transitive）**：$\forall x, y, z\in X.\ xRy\ \&\ yRz\ \Rightarrow\ xRz$

对于等价关系$R$，元素$x\in X$的**等价类（equivalence class）**定义为：

$$
[x]_R = \{y\in X\ |\ yRx\}
$$

**练习 1.6**：证明对于等价关系$R$，如果$[x]_R \cap [y]_R \neq \emptyset$，则$[x]_R = [y]_R$。

**练习 1.7**：设$xRy$表示集合$X$上的两个集合$x$和$y$存在一一对应关系，证明$R$是一个等价关系。

---

### **传递闭包**

给定集合$X$上的关系$R$，定义：

- $R^0 = \text{Id}_X$，即$X$上的恒等关系。
- $R^1 = R$。
- 递归地，$R^{n+1} = R^n \circ R$。

于是，$R^n$表示$R$的$n$次合成。

**传递闭包（Transitive Closure）**$R^+$定义为：

$$
R^+ = \bigcup_{n\geq 1} R^n
$$

**自反传递闭包（Reflexive Transitive Closure）**$R^*$定义为：

$$
R^* = \text{Id}_X \cup R^+
$$

**练习 1.8**：对于集合$X$上的关系$R$，证明$(R\cup R^{\text{op}})^*$是一个等价关系，其中$R^{\text{op}}$是$R$的对偶关系，定义为$R^{\text{op}} = \{(y, x)\ |\ (x, y)\in R\}$。

---

## 1.4 进一步阅读

我们的介绍相当于带有原子元素的Zermelo-Fraenkel集合论的非正式介绍。如果你想阅读更多内容，推荐Paul Halmos的《Naive Set Theory》[^1]，这是一本非常易读的集合论入门书。另一本好书是Herbert Enderton的《Elements of Set Theory》[^2]，尽管它篇幅更大。

---

[^1]: Halmos, P. R. (1960). *Naive Set Theory*. Springer.

[^2]: Enderton, H. B. (1977). *Elements of Set Theory*. Academic Press.

### ---------------------------



### ----------------------------



### ---------------------------



### ----------------------------



### ---------------------------



### ----------------------------



### ---------------------------



### ----------------------------



### ---------------------------



### ----------------------------



### ---------------------------



### ----------------------------
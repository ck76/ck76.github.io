[TOC]

### 一：

Java的引用和C++的指针都是指向一块内存地址的，通过引用或指针来完成对内存数据的操作，就好像风筝的线轴一样，通过线轴总是能够找到风筝，但是它们在实现，原理作用等方面却有区别。

（1）类型：引用其值为地址的数据元素，Java封装了的地址，可以转换成字符串查看，长度也可以不必担心。C++指针是一个装地址的变量，长度一般是计算机字长，可以认为是个int。

（2）所占内存：引用声明时没有实体，不占空间。C++指针如果声明之后会用到才会赋值。如果用不到不会分配内存。

（3）类型转换：引用的类型转换，也可能不成功，运行时抛异常或者编译就不能通过。C++指针指示个内存地址，指向内存，对程序来说还都是一个地址，但可能所指的地址不是程序想要的。

（4）初始值：引用初始值为java关键字null。C++指针是int，如不初始化指针，那它的值就不是固定的了，这很危险。

（5）计算：引用不可以计算。C++指针是int，他可以计算，如++或--，所以经常用指针来代替数组下标。

（6）内存泄露：Java引用不会产生内存泄露。C++指针是容易产生内存泄露的，所以程序员要小心使用，及时回收。

（7）作为参数：Java的方法参数只是传值，引用作为参数使用时，会给函数内引用的值的COPY，所以在函数内交换俩个引用参数是没意义的，因为函数只交换参数的COPY值，但在函数内改变一个引用参数的属性是有意义的，因为引用参数的COPY所引用的对象时和引用参数是同一个对象。C++指针作为参数给函数使用，实际上就是它所指的地址在被函数操作，所以函数内使用指针参数的操作都将直接作用到指针所指向的地址（变量，对象，函数等）。



### 二：

> c/c++的引用，它跟java的引用完全不是一个东西，**c/c++的引用是同一块内存的不同名字。而java的引用是指向一个对象，引用本身也占用了内存。**

```c++
//首先，列举一下能对指针进行的一些常见操作：
1、指向一个对象,如 Person *p = new Person….；int *iv = new int….
2、对指针所指的对象进行操作：P->getAge();            (*p).getAge();
3、获取存储在指针中的地址值。
4、将指针指向另外一个对象:Person *p1 = new Person…; p = p1;    但，不可以*p = p1这样来赋值。
5、删除new的空间，delete p1;
6、其它诸多操作
```

```c++
//这么多已经足够了，接下来看看java引用能做什么操作。
a、指向一个对象，如Person p = new Person…
b、调用对象的方法，p.getAge();
c、指向另外一个对象，Person p1 = new Person…; p = p1;
```

- 对于a和1，他们的功能是类似的，**但java引用无法指向一个基本变量**。
- 对于b，java引用和指针就不同了，在这点上，java reference更像是**解引用（dereference）了的指针**；或者
- 对c和4，是类同的。

- **除此**，我们无法获取java引用存的地址，我们不能delete，还有很多……



### 总结

```c++
综上，java的引用可以看成是一个功能受限的指针（或者说被阉割的指针）。其实java“指针”就是对象的引用，而对象就是存放在堆中的。我们知道java中的内存分为堆内存（heap）和栈内存（stack）。堆就是用来存放对象的，而栈则是存放一些数据基本类型的值，如int,float,double,char.......。

C++中对象的建立可以在堆和栈上。分别为动态建立和动态建立的方式，构建堆上的对象时一般使用new关键字，而对象的指针在栈上。使用new在堆上构建的对象需要主动的delete销毁。C++对象可以在堆或栈中，函数的传参可以是对象(对象的拷贝)，或是对象的指针。而在java中对象一般分配在堆上，对象的传值只有值类型，即对象的引用（地址），这样看来C++要灵活的多。
```



- <https://blog.csdn.net/sinat_41815248/article/details/86011819>
- <https://blog.csdn.net/JDream314/article/details/6680609>